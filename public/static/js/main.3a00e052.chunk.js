(this.webpackJsonpergofront=this.webpackJsonpergofront||[]).push([[0],{373:function(e,t,a){e.exports=a(757)},378:function(e,t,a){},514:function(e,t){},757:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(17),c=a.n(l),o=(a(378),a(4)),s=a(13),i=a(7),u=a(6),m=a(8),p=Object.freeze({Server:Symbol("server"),Proxy:Symbol("proxy")}),d=p.Proxy,h=function e(){Object(o.a)(this,e)};h.IsServer=function(){return d===p.Server},h.IsProxy=function(){return d===p.Proxy};var f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(l){return r.a.createElement(e,Object.assign({},t,l),r.a.createElement(a,Object.assign({},n,l)))}}},E=a(14),g=a(9),v=a(18),b=a(64),y=(a(35),function e(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if("object"===typeof t){var r=Object.getOwnPropertyNames(t),l=Object.getOwnPropertyNames(a);if(n.map((function(e){return r.indexOf(e)>=0&&r.pop(r.indexOf(e)),l.indexOf(e)>=0&&l.pop(l.indexOf(e)),null})),r.length!==l.length)return!1;for(var c=0;c<r.length;c++){var o=r[c];if(!1===e(t[o],a[o]))return!1}return!0}return t===a}),k=a(131),O=a.n(k),N=void 0===window.backend?"https://api.ergopool.io/api/":window.backend,w=O.a.create({baseURL:N});w.interceptors.request.use((function(e){var t=localStorage.getItem("token");return t?Object(g.a)({},e,{headers:Object(g.a)({},e.headers,{Authorization:"Token "+t})}):e})),w.interceptors.response.use((function(e){return e}),(function(e){try{(401===e.response.status||403===e.response.status&&"Expired token."===e.response.data.detail)&&(console.log("Im here with status unauthorized"),localStorage.removeItem("token"),window.location.reload())}catch(t){console.log(t)}return Promise.reject(e)}));var S=function e(){Object(o.a)(this,e)};S.info=function(){return new Promise((function(e,t){try{w.get("info/").then((function(t){e(t)})).catch((function(e){console.log(e),t(e)}))}catch(a){console.log(a),t(a)}}))},S.dashboard=function(e){return new Promise((function(t,a){try{w.get("user/"+e+"/").then((function(e){t(e)})).catch((function(e){console.log(e),a(e)}))}catch(n){console.log(n),a(n)}}))},S.hashRate=function(e,t){return new Promise((function(a,n){try{var r=[];t.fromTimeStamp&&r.push("start="+t.fromTimeStamp),t.toTimeStamp&&r.push("stop="+t.toTimeStamp);var l=r.join("&");w.get("user/"+e+"/hash_rate/?"+l).then((function(e){a(e)})).catch((function(e){console.log(e),n(e)}))}catch(c){console.log(c),n(c)}}))},S.share=function(e,t){return new Promise((function(a,n){try{var r=[];t.fromTimeStamp&&r.push("start="+t.fromTimeStamp),t.toTimeStamp&&r.push("stop="+t.toTimeStamp);var l=r.join("&");w.get("user/"+e+"/share/?"+l).then((function(e){a(e)})).catch((function(e){console.log(e),n(e)}))}catch(c){console.log(c),n(c)}}))},S.payout=function(e){return new Promise((function(t,a){try{w.get("user/"+e+"/payout/").then((function(e){t(e)})).catch((function(e){console.log(e),a(e)}))}catch(n){console.log(n),a(n)}}))},S.income=function(e){return new Promise((function(t,a){try{w.get("user/"+e+"/income/").then((function(e){t(e)})).catch((function(e){console.log(e),a(e)}))}catch(n){console.log(n),a(n)}}))},S.getLogin=function(){return new Promise((function(e,t){try{w.get("login/").then((function(t){e(t.data)})).catch((function(e){t(e)}))}catch(a){t(a)}}))},S.login=function(e,t,a,n){return new Promise((function(r,l){try{var c={username:e,password:t,recaptcha_code:a};n&&(c.otp_token=n),w.post("login/",c).then((function(e){r(e.data)})).catch((function(e){l(e)}))}catch(o){l(o)}}))},S.getConfig=function(){return new Promise((function(e,t){try{w.get("conf/").then((function(t){e(t.data)})).catch((function(e){t(e)}))}catch(a){t(a)}}))},S.setConfig=function(e){return new Promise((function(t,a){try{w.post("conf/batch_create/",e).then((function(e){t(e.data)})).catch((function(e){a(e)}))}catch(n){a(n)}}))},S.getUsers=function(){return new Promise((function(e,t){try{w.get("administrator/users/").then((function(t){e(t.data)})).catch((function(e){t(e)}))}catch(a){t(a)}}))},S.getUiJson=function(e){return new Promise((function(t,a){try{w.get("ui/"+e+"/").then((function(e){t(e.data)})).catch((function(e){a(e)}))}catch(n){a(n)}}))},S.setUiJson=function(e,t){return new Promise((function(a,n){try{w.post("ui/"+e+"/",{data:JSON.stringify(t)}).then((function(e){a(e.data)})).catch((function(e){n(e)}))}catch(r){n(r)}}))},S.getSupport=function(){return new Promise((function(e,t){try{w.get("support/").then((function(t){e(t.data)})).catch((function(e){t(e)}))}catch(a){t(a)}}))},S.support=function(e,t,a,n,r){return new Promise((function(l,c){try{w.post("support/",{name:e,email:t,subject:a,message:n,recaptcha_code:r}).then((function(e){l(e.data)})).catch((function(e){c(e)}))}catch(o){c(o)}}))},S.change2Fa=function(){return new Promise((function(e,t){try{w.post("totp/",{}).then((function(t){e(t.data)})).catch((function(e){t(e)}))}catch(a){t(a)}}))},S.getPayment=function(){return new Promise((function(e,t){try{w.get("payment/",{}).then((function(t){e(t.data)})).catch((function(e){t(e)}))}catch(a){t(a)}}))},S.postPayment=function(e){return new Promise((function(t,a){try{w.post("payment/",e).then((function(e){t(e.data)})).catch((function(e){a(e)}))}catch(n){a(n)}}))},S.getPastPayment=function(){return new Promise((function(e,t){try{w.get("administrator/users/payments/",{}).then((function(t){e(t.data)})).catch((function(e){t(e)}))}catch(a){t(a)}}))},S.getBlock=function(){return new Promise((function(e,t){try{w.get("blocks/",{}).then((function(t){e(t.data)})).catch((function(e){t(e)}))}catch(a){t(a)}}))},S.withdraw=function(e){return new Promise((function(e,t){try{w.get("balance/",{}).then((function(t){e(t.data)})).catch((function(e){t(e)}))}catch(a){t(a)}}))};var j=w,C=a(70),A=a(309),_={node:{synced:!1,start:0,mining:!1,height:0,peers:0,version:"",bestBlock:"",pk:"",status:"RED",message:"",mnemonicSaved:!1},apiKey:"",walletInitialized:!1,walletLocked:!0,wallet:{status:"",balance:0,address:[]}},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STORE_NODE_DATA":return Object(g.a)({},e,{node:t.payload});case"STORE_NODE_API_KEY":return Object(g.a)({},e,{apiKey:t.payload.apiKey,walletInitialized:t.payload.walletInitialized,walletLocked:t.payload.walletLocked})}return e},x={userId:"",token:"",messages:[],menu:[],footer:{extra:{},items:[]},info:{hash_rate:{network:24843969,pool:1},miners:0,active_miners:0,price:{btc:null,usd:null},blocks_in_hour:0},dashboard:{round_valid_shares:4454,round_invalid_shares:0,timestamp:new Date,hash_rate:{current:1,avg:1},user:{round_valid_shares:0,round_invalid_shares:0,immature:0,mature:0,withdraw:0,hash_rate:{current:1,avg:1}}}},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STORE_API_INFO":return Object(g.a)({},e,{info:t.payload});case"STORE_API_USER_DASHBOARD":return Object(g.a)({},e,{dashboard:t.payload});case"SET_USER_PK":return Object(g.a)({},e,{userId:t.payload});case"SET_USER_API_KEY":return Object(g.a)({},e,{token:t.payload});case"STORE_MENU_LINKS":return Object(g.a)({},e,{menu:t.payload});case"STORE_FOOTER":return Object(g.a)({},e,{footer:t.payload});case"STORE_MESSAGES":return Object(g.a)({},e,{messages:t.payload})}return e},I={node:{synced:!1,start:0,mining:!1,height:0,peers:0,version:"",bestBlock:"",pk:"",status:"GREEN",message:null},apiKey:"",walletInitialized:!1,walletLocked:!0,wallet:{status:"",balance:0,address:[]}},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STORE_NODE_DATA":return Object(g.a)({},e,{node:t.payload});case"STORE_NODE_API_KEY":return Object(g.a)({},e,{apiKey:t.payload.apiKey,walletInitialized:t.payload.walletInitialized,walletLocked:t.payload.walletLocked});case"SET_UI_SYNCING":return Object(g.a)({},e,{syncing:!0})}return e},P=Object(C.c)({proxy:T,api:R,ui:D}),M=Object(C.d)(P,Object(C.a)(A.a)),H=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){!function a(){var n=M.getState().api.userId;n?S.dashboard(n).then((function(r){e||setTimeout((function(){return a()}),6e5);var l={timestamp:new Date(r.data.timestamp.split(" ").join("T")),hash_rate:r.data.hash_rate,round_valid_shares:r.data.round_valid_shares,round_invalid_shares:r.data.round_invalid_shares,user:Object(g.a)({},r.data.users[n])};t({type:"STORE_API_USER_DASHBOARD",payload:Object(g.a)({},l)})})).catch((function(t){e||setTimeout((function(){return a()}),6e5)})):setTimeout((function(){return a()}),5e3)}()}},U=function(e){return function(t){t({type:"SET_USER_PK",payload:e}),H(!0)}},F=function(){return function(e){S.getUiJson("MenuLink.json").then((function(t){!1===y(M.getState().api.menu,t.items)&&e({type:"STORE_MENU_LINKS",payload:t.items})}))}},L=function(e){var t=M.getState(),a=Object(b.a)(t.api.messages);return e.map((function(e){var t=-1;return a.map((function(a,n){return y(a,e,["display"])&&(t=n,"yes"===a.display&&(e.display="yes")),null})),-1===t?a.push(Object(g.a)({},e)):a[t]=Object(g.a)({},e),null})),{type:"STORE_MESSAGES",payload:a}},K=function(e){return r.a.createElement("li",null,r.a.createElement(E.c,{to:e.link,exact:!0},e.title))},W=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={toggled:!1},a.toggleClick=function(){a.setState((function(e){return Object(g.a)({},e,{toggled:!e.toggled})}))},a.render=function(){var e="main-menu-bar "+(a.state.toggled?"toggled":"");return r.a.createElement("div",{className:e},r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"logo"}),r.a.createElement("button",{className:"navigation-toggle",onClick:a.toggleClick},r.a.createElement("i",{className:"ep-icon-hamburger-menu"}),r.a.createElement("i",{className:"ep-icon-close"})),r.a.createElement("ul",{className:"menu-bar",style:a.props.style},a.props.links.map((function(e,t){return"yes"!==e.superuser||localStorage.getItem("token")?e.color?r.a.createElement(K,{key:e.link,link:e.link,title:e.title,style:{color:e.color}}):r.a.createElement(K,{key:e.link,link:e.link,title:e.title}):null})))))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.props.loadMenu()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.loadMenu()}}]),t}(r.a.Component),B=Object(v.b)((function(e){return{links:e.api.menu}}),(function(e){return{loadMenu:function(){return e(F())}}}))(W),q=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={links:[],extra:{}},a.renderLink=function(e,t){return e.link.startsWith("http://")||e.link.startsWith("https://")||"yes"===e.newTab?"yes"===e.newTab?r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.link,className:"link",key:t},e.title):r.a.createElement("a",{href:e.link,className:"link",key:t},e.title):r.a.createElement(E.b,{to:e.link,className:"link",key:t},e.title)},a.render=function(){return r.a.createElement("div",{className:"footer",style:{backgroundColor:a.props.color}},r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"big-text"},a.props.footer.extra.column1)),["column2","column3","column4"].map((function(e){return r.a.createElement("div",{className:"col",key:e},r.a.createElement("div",{className:"title"},a.props.footer.extra[e]),a.props.footer.items.map((function(t,n){return t.column.replace(" ","").toLowerCase()===e?a.renderLink(t,n):null})))}))),r.a.createElement("div",{className:"split"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"logo"},"Ergopool")),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"social-links"},r.a.createElement("a",{className:"social-link",href:"https://t.me/joinchat/AAAAAFkhFbEskHGp0p-JLg"},r.a.createElement("i",{className:"ep-icon-social-telegram"})),r.a.createElement("a",{className:"social-link",href:"https://twitter.com/ergopool"},r.a.createElement("i",{className:"ep-icon-social-twitter"})),r.a.createElement("a",{className:"social-link",href:"https://discord.gg/CzqeQjE"},r.a.createElement("i",{className:"ep-icon-social-discord"})),r.a.createElement("a",{className:"social-link",href:"https://github.com/ergopool-io"},r.a.createElement("i",{className:"ep-icon-social-github"})))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"copyright"},"\xae2019-2020 Ergopool")),r.a.createElement("div",{className:"col"}),r.a.createElement("div",{className:"clear"}))))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.props.loadFooter()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.loadFooter()}}]),t}(r.a.Component),z=Object(v.b)((function(e){return{footer:e.api.footer}}),(function(e){return{loadFooter:function(){return e((function(e){S.getUiJson("FooterLink.json").then((function(t){!1===y(M.getState().api.footer,t)&&e({type:"STORE_FOOTER",payload:t})}))}))}}}))(q),Y=function(e){return r.a.createElement("li",{className:"toggle"},r.a.createElement("button",{onClick:e.click},r.a.createElement("i",{className:"ep-icon-hamburger-menu active-hide"}),r.a.createElement("i",{className:"ep-icon-left-arrow active-show"})))},G=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={navigationOpen:!1},a.toggleNavigation=function(){a.setState((function(e){return{navigationOpen:!e.navigationOpen}}))},a.logout=function(){localStorage.removeItem("token"),a.props.history.push("/")},a.getUrl=function(e){return"/admin/"+e},a.render=function(){var e=["user"];return a.state.navigationOpen&&e.push("active"),e=e.join(" "),r.a.createElement("div",null,r.a.createElement("div",{className:e},r.a.createElement(B,null),r.a.createElement("ul",{className:"navigation"},r.a.createElement(Y,{click:function(){return a.toggleNavigation()}}),r.a.createElement("li",null,r.a.createElement(E.c,{activeClassName:"active",to:a.getUrl("system/")},r.a.createElement("i",{className:"ep-icon-admin-dashboard"}),r.a.createElement("span",null,"Dashboard"))),r.a.createElement("li",null,r.a.createElement(E.c,{activeClassName:"active",to:a.getUrl("user/")},r.a.createElement("i",{className:"ep-icon-admin-setting"}),r.a.createElement("span",null,"Users"))),r.a.createElement("li",null,r.a.createElement(E.c,{activeClassName:"active",to:a.getUrl("manage/")},r.a.createElement("i",{className:"ep-icon-admin-management"}),r.a.createElement("span",null,"Management"))),r.a.createElement("li",null,r.a.createElement(E.c,{activeClassName:"active",to:a.getUrl("ui-manage/")},r.a.createElement("i",{className:"ep-icon-admin-management-ui"}),r.a.createElement("span",null,"UI management"))),r.a.createElement("li",null,r.a.createElement(E.c,{activeClassName:"active",to:a.getUrl("profile/")},r.a.createElement("i",{className:"ep-icon-useralt-profile"}),r.a.createElement("span",null,"UI management"))),r.a.createElement("li",null,r.a.createElement("button",{onClick:a.logout},r.a.createElement("i",{className:"ep-icon-admin-logout"}),r.a.createElement("span",null,"Logout")))),r.a.createElement("div",{className:"content"},a.props.children)),r.a.createElement("div",{className:"clear"}),r.a.createElement("div",{className:"footer"},r.a.createElement(z,null)))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){console.log(localStorage.getItem("token")),localStorage.getItem("token")||this.props.history.push("/admin/login/?next="+this.props.match.url)}}]),t}(r.a.Component),J=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).getUrl=function(e){return"/admin/system/"+e},a.render=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"tab-bar-flex"},r.a.createElement("li",null,r.a.createElement(E.c,{to:a.getUrl(""),exact:!0},"System Info")),r.a.createElement("li",null,r.a.createElement(E.c,{to:a.getUrl("block"),exact:!0},"Blocks")),r.a.createElement("li",null,r.a.createElement(E.c,{to:a.getUrl("transaction"),exact:!0},"Transactions")),r.a.createElement("li",null,r.a.createElement(E.c,{to:a.getUrl("payment"),exact:!0},"Payment"))),a.props.children)},a}return Object(m.a)(t,e),t}(r.a.Component),V=f(G)(J),X=f(V)((function(e){return r.a.createElement("div",null)})),Q=(a(147),a(148),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={showDetail:!1},a.toggleDetail=function(){a.setState((function(e){return Object(g.a)({},e,{showDetail:!e.showDetail})}))},a.getDetailRow=function(){if(a.props.detail&&a.state.showDetail){var e=a.props.detail;return r.a.createElement("tr",null,r.a.createElement("td",{colSpan:a.props.columns.length+1,className:"detail"},r.a.createElement(e,{data:a.props.data})))}return null},a.render=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{key:a.props.data.key},a.props.detail?r.a.createElement("td",{onClick:a.toggleDetail},a.state.showDetail?r.a.createElement("i",{className:"ep-icon-down"}):r.a.createElement("i",{className:"ep-icon-right"})):null,a.props.columns.map((function(e){return r.a.createElement("td",{key:e.key,onClick:function(){return a.props.rowSelect?a.props.rowSelect(a.props.data):null}},e.content?e.content(a.props.data):r.a.createElement("span",null,a.props.data[e.key]))}))),a.getDetailRow())},a}return Object(m.a)(t,e),t}(r.a.Component)),$=function(e){return r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,e.detail?r.a.createElement("td",{width:40}):null,e.columns.map((function(t){return r.a.createElement("th",{key:t.key,className:"sorted"},e.hideSorting?t.header:r.a.createElement("button",{className:"sort-button",onClick:function(){return e.sort?e.sort(t.key):null}},t.header," \xa0",t.key===e.sorting?"asc"===e.sortingDir?r.a.createElement("i",{className:"ep-icon-sorted"}):r.a.createElement("i",{className:"ep-icon-sorted flipped"}):r.a.createElement("i",{className:"ep-icon-sort"})))})))),r.a.createElement("tbody",null,e.data.map((function(t,a){return r.a.createElement(Q,{key:a,data:t,columns:e.columns,rowSelect:e.rowSelect,detail:e.detail})})),e.footer?r.a.createElement("tr",{colSpan:e.columns.length},r.a.createElement("td",null,(void 0).props.footer)):null))},Z=a(764),ee=[{header:"Height",key:"height"},{header:"Timestamp",key:"timestamp"},{header:"Transactions",key:"transactionsCount"},{header:"Mined by",key:"miner",content:function(e){return e.miner.name}},{header:"Pool?",key:"pool",content:function(e){return e.pool?r.a.createElement(Z.a,{name:"check"}):r.a.createElement("i",{className:"ep-icon-close"})}}],te=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={data:[],date:"",userId:""},a.loadPayments=function(){S.getBlock().then((function(e){a.setState({data:e.results})}))},a.render=function(){return r.a.createElement("div",{className:"panel custom-table"},r.a.createElement($,{hideSorting:!0,data:a.state.data,rowSelect:a.rowSelect,columns:ee}))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.loadPayments()}}]),t}(r.a.Component),ae=f(V)(te),ne=["","K","M","G","T","E","P"],re=function(e){if(void 0===e)return"0 ";for(var t=0;e>1024;)t+=1,e/=1024;return e.toFixed(2)+" "+ne[t]},le=function(e){for(var t=parseFloat(e/1e9).toFixed(3).split(""),a=t.length-10;(a-=3)>0;)t.splice(a,0,",");return t.join("")},ce=function(e){return e.length<12?e:e.substr(0,12)+"..."},oe=[{header:"User",key:"pk"},{header:"Amount",key:"paid",content:function(e){return le(e.paid)}}],se=function(e){return r.a.createElement("div",{className:"custom-table"},r.a.createElement($,{hideSorting:!0,data:e.data.payments,columns:oe}))},ie=[{header:"Transaction ID",key:"tx_id"},{header:"Amount",key:"total_payment",content:function(e){return le(e.total_payment)}},{header:"Confirmed",key:"is_confirmed",content:function(e){return e.is_confirmed?r.a.createElement(Z.a,{name:"check"}):r.a.createElement("i",{className:"ep-icon-close"})}},{header:"Timestamp",key:"created_at"}],ue=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={data:[],date:"",userId:""},a.loadPayments=function(){S.getPastPayment().then((function(e){a.setState({data:e})}))},a.render=function(){return r.a.createElement("div",{className:"panel custom-table"},r.a.createElement($,{hideSorting:!0,data:a.state.data,rowSelect:a.rowSelect,detail:se,columns:ie}))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){console.log("here"),this.loadPayments()}}]),t}(r.a.Component),me=f(V)(ue),pe=a(319),de=function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("input",{type:"checkbox",checked:e.enabled,onChange:function(t){return e.saveEnabled(t.target.checked)}})),r.a.createElement("td",null,ce(e.miner_id)),r.a.createElement("td",null,e.balance),r.a.createElement("td",null,e.actual_payment))},he=a(26),fe=a.n(he),Ee=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={data:[],sorting:"date",sortingDir:"asc",pageIndex:0,perPage:10},a.loadPayments=function(){S.getPayment().then((function(e){var t=e.map((function(e){return Object(g.a)({},e,{enabled:!0})}));a.setState({data:t})}))},a.submitPayments=function(){a.setState({loading:!0});var e=[];a.state.data.forEach((function(t){var a=t.enabled,n=Object(pe.a)(t,["enabled"]);a&&e.push(n)})),S.postPayment(e).then((function(e){a.setState({loading:!1})})).catch((function(e){a.setState({loading:!1})}))},a.checkMiner=function(e,t){var n=Object(b.a)(a.state.data);n[e].enabled=t,console.log(n),a.setState({data:n})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.loadPayments()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"panel custom-table"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null),r.a.createElement("td",null,"Miner"),r.a.createElement("td",null,"Balance"),r.a.createElement("td",null,"Actual Payment"))),r.a.createElement("tbody",null,this.state.data.map((function(t,a){return r.a.createElement(de,Object.assign({},t,{saveEnabled:function(t){return e.checkMiner(a,t)}}))}))),r.a.createElement("tfoot",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:4,style:{padding:10}},r.a.createElement("button",{className:"btn blue",onClick:this.submitPayments,style:{float:"right"}},"Pay to selected",this.state.loading?r.a.createElement(fe.a,{color:"white"}):null))))))}}]),t}(r.a.Component),ge=f(V)(Ee),ve=function(e){return r.a.createElement("div",{className:"error",style:{background:e.color}},r.a.createElement("div",{className:"socials"},r.a.createElement("div",{className:"socialBar"}),r.a.createElement("a",{href:"https://t.me/joinchat/AAAAAFkhFbEskHGp0p-JLg",className:"social"},r.a.createElement("i",{className:"ep-icon-social-telegram"})," "),r.a.createElement("a",{href:"https://twitter.com/ergopool",className:"social"},r.a.createElement("i",{className:"ep-icon-social-twitter"})," "),r.a.createElement("a",{href:"https://discord.gg/CzqeQjE",className:"social"},r.a.createElement("i",{className:"ep-icon-social-discord"})," "),r.a.createElement("a",{href:"https://github.com/ergopool-io",className:"social"},r.a.createElement("i",{className:"ep-icon-social-github"})," ")),r.a.createElement("div",{className:"contents"},e.children))},be=f(ve)((function(e){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h1",null,"404"),r.a.createElement("h2",null,"Something's missing."),r.a.createElement("div",null,"Selected page not found."),r.a.createElement(E.b,{to:"/"},"Back to home")),r.a.createElement("div",{className:"error-image error_404"}))})),ye=f(ve,{color:"#ffdede"})((function(e){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h1",null,"500"),r.a.createElement("h2",null,"Oooops... Something wents wrong"),r.a.createElement("div",null,"Sorry for this inconvenience, Our team is actively working to fix issue"),r.a.createElement(E.b,{to:"/"},"Back to home")),r.a.createElement("div",{className:"error-image error_500"}))})),ke=f(ve)((function(e){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h1",null,"\xa0"),r.a.createElement("h2",null,"Under maintenance..."),r.a.createElement("div",null,"Website is currently undergoing scheduled maintenance. we should be back shortly.")),r.a.createElement("div",{className:"error-image error_maintenance"}))})),Oe=f(ve)((function(e){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h1",null,"\xa0"),r.a.createElement("h2",null,"Comming soon."),r.a.createElement("div",null,"Stay tuned and get the latest updates and news from our social media.")),r.a.createElement("div",{className:"error-image error_coming"}))})),Ne=a(85),we=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).getCurrentMessages=function(){var e=[];return a.props.messages.map((function(t,a){return"yes"!==t.display&&e.push(t),null})),e},a.closeAllMessages=function(){var e=a.props.messages.map((function(e){return Object(g.a)({},e,{display:"yes"})}));a.props.storeMessage(e)},a.nextMessage=function(e){a.props.storeMessage([Object(g.a)({},e,{display:"yes"})])},a.render=function(){var e=a.getCurrentMessages();if(0===e.length)return null;var t=e[0],n="popup popup-"+t.type;return r.a.createElement("div",{className:"popup-container"},r.a.createElement("div",{className:n},r.a.createElement("div",{className:"action-row"},r.a.createElement("button",{className:"close-btn",onClick:a.closeAllMessages},r.a.createElement("i",{className:"ep-icon-close"}))),r.a.createElement("div",{className:"popup-content"},r.a.createElement("h1",null,t.title),r.a.createElement(Ne.Markdown,{markup:t.content})),r.a.createElement("div",{className:"action-row-bottom"},r.a.createElement("button",{className:"action-btn",onClick:function(){return a.nextMessage(t)}},e.length>1?"Next":"Close"))))},a}return Object(m.a)(t,e),t}(r.a.Component),Se=Object(v.b)((function(e){return{messages:e.api.messages}}),(function(e){return{storeMessage:function(t){return e(L(t))}}}))(we),je=a(23),Ce=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={user:""},a.handleKeyDown=function(e){"Enter"===e.key&&a.navigate()},a.navigate=function(){a.props.setUserPk(a.state.user),a.props.history.push("/user/"+a.state.user+"/")},a.render=function(){return r.a.createElement("div",{className:"search wrapper"},r.a.createElement("i",{className:"ep-icon-search",onClick:a.navigate}),r.a.createElement("input",{type:"text",placeholder:"Search your address",value:a.state.user,onKeyDown:a.handleKeyDown,onChange:function(e){return a.setState({user:e.target.value})}}))},a}return Object(m.a)(t,e),t}(r.a.Component),Ae=Object(v.b)((function(e){return{info:e.api.dashboard}}),(function(e){return{setUserPk:function(){return e(U)}}}))(Object(je.g)(Ce));var _e=function(e){return r.a.createElement("div",{className:"header"},r.a.createElement(B,null),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"clear"}),r.a.createElement("div",{className:"title"},e.title),e.hide_search?null:r.a.createElement(Ae,null)))},Te=function(e){return r.a.createElement("div",{className:"style"},r.a.createElement("div",{className:"wrapper"},e.children))},xe=function(e){var t="main "+(e.customClass?e.customClass:"");return r.a.createElement("div",{className:t},Object({NODE_ENV:"production",PUBLIC_URL:"/dashboard"}).REACT_APP_BACKEND_URL2,r.a.createElement(_e,{hide_search:e.hide_search,title:e.title}),r.a.createElement(Te,null,e.children),r.a.createElement(z,null))},Re=function(e){return r.a.createElement("div",{className:"panel"+(e.className?" "+e.className:"")},r.a.createElement("div",{className:"panel-content"},e.children,r.a.createElement("div",{className:"clear"})))},Ie=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={hashrate:""},a.blockInDay=function(){var e=0;a.state.hashrate&&(e=1024*a.state.hashrate*1024);var t=a.props.network+e;return 0===t?0:e/t*24*30},a.earning=function(){var e=65*a.blockInDay();return e>0?e.toFixed(4):0},a.collateral=function(){return 65*(Math.ceil(a.blockInDay())+2)+.001},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"earning"},r.a.createElement("label",null,"Autolykos Hashrate(MH/s)",r.a.createElement("input",{value:this.state.hashrate,onChange:function(t){return e.setState({hashrate:t.target.value})}})),r.a.createElement("span",null," * 24H = ",this.earning()," Erg"),r.a.createElement("h2",null,"Required collateral: ",this.collateral()," Erg"),r.a.createElement("h1",null,"Daily earning: ",this.earning()," Erg"))}}]),t}(r.a.Component),De=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"hashrate"},r.a.createElement("div",null,r.a.createElement("h2",null,"Network Hashrate"),r.a.createElement("h4",null,"(last 30 minutes)"),r.a.createElement("h2",null,re(this.props.networkHashRate),"H/s")),r.a.createElement("div",null,r.a.createElement("h2",null,"Pool Hashrate"),r.a.createElement("h4",null,"(last 30 minutes)"),r.a.createElement("h2",null,re(this.props.poolHashRate),"H/s")))}}]),t}(r.a.Component),Pe=function(e){return r.a.createElement("div",{className:"slider"},r.a.createElement("div",{className:"left"},r.a.createElement("h1",null,e.sliderHeader),r.a.createElement("h2",null,e.sliderSubTitle),r.a.createElement(E.b,{className:"btn blue",to:e.sliderLink},e.sliderLinkTitle)),r.a.createElement("div",{className:"image"}),r.a.createElement("div",{className:"clear"}))},Me=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={priceType:"usd",features:[],index:{sliderHeader:"The Mining Hub for Self-Sovereign Ergo Miners!",sliderSubTitle:"Ergopool is an impotent semi-decentralized mining pool built to empower the most decentralized blockchain ever existed.",sliderLink:"/how/",sliderLinkTitle:"Start mining",firstBoxTitle:"",firstBoxContent:""}},a.changePriceType=function(){a.setState((function(e){var t="usd";return"usd"===e.priceType&&(t="btc"),Object(g.a)({},e,{priceType:t})}))},a.priceIcon=function(){return"usd"===a.state.priceType?"$":"btc"},a.render=function(){return r.a.createElement("div",{className:"main-content"},r.a.createElement(Se,null),r.a.createElement("h1",null,a.props.index.firstBoxTitle),r.a.createElement("h3",null,a.props.index.firstBoxContent),r.a.createElement(Ae,null),r.a.createElement("div",{className:"cols"},r.a.createElement("div",{className:"col"},r.a.createElement("h1",null,"Hash Rate "),r.a.createElement("h4",null,"(last 30 minutes)"),r.a.createElement("h3",null,re(a.props.info.hash_rate.pool),"H/s")),r.a.createElement("div",{className:"col"},r.a.createElement("h1",null,"Active Miners"),r.a.createElement("h3",null,a.props.info.active_miners)),r.a.createElement("div",{className:"col"},r.a.createElement("h1",null,"Miners"),r.a.createElement("h3",null,a.props.info.miners)),r.a.createElement("div",{className:"col"},r.a.createElement("h1",null,"Blocks/h"),r.a.createElement("h3",null,a.props.info.blocks_in_hour)),r.a.createElement("div",{className:"col"},r.a.createElement("h1",null,"Price ",r.a.createElement("i",{className:"ep-icon-exchange",onClick:a.changePriceType})),r.a.createElement("h3",null,a.props.info.price[a.state.priceType]," ",a.priceIcon()))),r.a.createElement("div",{className:"circle"},r.a.createElement("i",{className:"ep-icon-star"})),r.a.createElement("h1",null,"Features"),r.a.createElement("div",{className:"features"},a.props.features.map((function(e,t){return r.a.createElement("div",{className:"panel-container",key:t},r.a.createElement("div",{className:"panel-wrapper"},r.a.createElement(Re,null,e.title)))}))),r.a.createElement("h1",{id:"calculator"},"Calculate your Earning"),r.a.createElement(Re,{className:"panel-earning"},r.a.createElement(De,{networkHashRate:a.props.info.hash_rate.network,poolHashRate:a.props.info.hash_rate.pool}),r.a.createElement(Ie,a.props.info.hash_rate)))},a}return Object(m.a)(t,e),t}(r.a.Component),He=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={features:[],index:{sliderHeader:"",sliderSubTitle:"",sliderLink:"",sliderLinkTitle:"",firstBoxTitle:"",firstBoxContent:""}},a.getData=function(){S.getUiJson("Index.json").then((function(e){!1!==y(e.items,a.state.features)&&!1!==y(e.extra,a.state.index)||a.setState({features:e.items,index:e.extra})}))},a.render=function(){return r.a.createElement(xe,Object.assign({hide_search:!0,customClass:"index",title:Pe(a.state.index)},a.props),r.a.createElement(Me,Object.assign({features:a.state.features,index:a.state.index},a.props)))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){this.getData()}},{key:"componentWillMount",value:function(){this.getData()}}]),t}(r.a.Component),Ue=Object(v.b)((function(e){return{info:e.api.info}}))(He),Fe=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={pages:[],loaded:!1},a.getData=function(){S.getUiJson("Page.json").then((function(e){!1===y(e.items,a.state.pages)&&a.setState({pages:e.items,loaded:!0})}))},a.render=function(){var e=null,t=null;if(console.log(a.state),a.state.pages.map((function(n){return a.props.location.pathname===n.urlKey&&(e=n.content,t=n.title),null})),null===e&&a.state.loaded)return r.a.createElement(be,null);var n=f(xe,{title:t})((function(t){return r.a.createElement(Ne.Markdown,{markup:e})}));return r.a.createElement("div",{className:"static-page"},r.a.createElement(n,null))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){this.getData()}},{key:"componentWillMount",value:function(){this.getData()}}]),t}(r.a.Component),Le=a(25),Ke=function(e){return r.a.createElement("div",{className:"address-container"},r.a.createElement("div",{className:"address",title:e.userId},e.userId),e.children)},We=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={toggled:!1},a.toggleClick=function(){a.setState((function(e){return Object(g.a)({},e,{toggled:!e.toggled})}))},a.render=function(){var e="navigation-menu "+(a.state.toggled?"toggled":"");return r.a.createElement("li",{className:e},r.a.createElement("button",{className:"title",onClick:a.toggleClick},"Quick Access"),r.a.createElement("ul",{className:"menu-bar-navigation",style:a.props.style},a.props.links.map((function(e,t){return"yes"!==e.superuser||localStorage.getItem("token")?e.color?r.a.createElement(K,{key:e.link,link:e.link,title:e.title,style:{color:e.color}}):r.a.createElement(K,{key:e.link,link:e.link,title:e.title}):null}))))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.props.loadMenu()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.loadMenu()}}]),t}(r.a.Component),Be=Object(v.b)((function(e){return{links:e.api.menu}}),(function(e){return{loadMenu:function(){return e(F())}}}))(We),qe=function(e){return r.a.createElement("div",null,e.display?r.a.createElement("div",{className:"modal"},r.a.createElement("div",{className:"modal-wrapper"},r.a.createElement("div",{className:"modal-back"}),r.a.createElement("div",{className:"modal-content"},e.children,r.a.createElement("div",{className:"action-row"},r.a.createElement("div",{className:"btn-holder"},r.a.createElement("button",{className:"btn gray",onClick:e.onClose},"Cancel")),r.a.createElement("div",{className:"btn-holder"},r.a.createElement("button",{className:"btn blue",onClick:e.onSuccess},e.successTitle)))))):null)},ze=O.a.create({baseURL:"/"});ze.interceptors.request.use((function(e){var t=M.getState().proxy.apiKey;return t&&(e.headers={api_key:t}),e}),(function(e){}));var Ye=function e(){Object(o.a)(this,e)};Ye.info=function(){return new Promise((function(e,t){try{ze.get("info").then((function(t){e(t)})).catch((function(e){console.log(e),t(e)}))}catch(a){console.log(a),t(a)}}))},Ye.saveMnemonic=function(e){return new Promise((function(t,a){try{ze.post("proxy/mnemonic/save",{pass:e}).then((function(e){t(e)})).catch((function(e){console.log(e),a(e)}))}catch(n){console.log(n),a(n)}}))},Ye.loadMnemonic=function(e){return new Promise((function(t,a){try{ze.post("proxy/mnemonic/load",{pass:e}).then((function(e){t(e)})).catch((function(e){console.log(e),a(e)}))}catch(n){console.log(n),a(n)}}))},Ye.payment=function(e,t){return new Promise((function(a,n){try{ze.post("/wallet/payment/send",[{address:e,value:t}]).then((function(e){a(e)})).catch((function(e){console.log(e),n(e)}))}catch(r){console.log(r),n(r)}}))},Ye.balance=function(){return new Promise((function(e,t){try{ze.get("wallet/balances").then((function(t){e(t)})).catch((function(e){console.log(e),t(e)}))}catch(a){console.log(a),t(a)}}))},Ye.walletStatus=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){};try{var n={api_key:e};ze.get("wallet/status",{headers:n}).then((function(e){t(e)})).catch((function(e){a(e)}))}catch(r){console.log(r),a(r)}},Ye.walletLock=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){};try{ze.get("wallet/lock").then((function(t){e(t)})).catch((function(e){t(e)}))}catch(a){console.log(a),t(a)}},Ye.walletUnlock=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){};try{ze.post("wallet/unlock",{pass:e}).then((function(e){t(e)})).catch((function(e){a(e)}))}catch(n){console.log(n),a(n)}},Ye.proxyReload=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){};try{ze.post("proxy/config/reload").then((function(t){e(t)})).catch((function(e){t(e)}))}catch(a){console.log(a),t(a)}},Ye.proxyResetStatus=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){};try{ze.post("proxy/status/reset").then((function(t){e(t)})).catch((function(e){t(e)}))}catch(a){console.log(a),t(a)}};var Ge=Ye,Je=function(e){return r.a.createElement("li",{className:"toggle"},r.a.createElement("button",{onClick:e.click},r.a.createElement("i",{className:"ep-icon-hamburger-menu active-hide"}),r.a.createElement("i",{className:"ep-icon-left-arrow active-show"})))},Ve=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={authModal:!1,unlockModal:!1,initialModal:!1,apiKey:"",unlockPassword:""},a.openAuthPanel=function(){a.setState({authModal:!0})},a.closeAuthPanel=function(){a.setState({authModal:!1,apiKey:""})},a.openUnlockPanel=function(){a.setState({unlockModal:!0})},a.closeUnlockPanel=function(){a.setState({unlockModal:!1})},a.setApiKey=function(){Ge.walletStatus(a.state.apiKey,(function(e){console.log(e),a.props.storeApiKey(a.state.apiKey,e.data.isInitialized,!e.data.isUnlocked),a.setState({authModal:!1,apiKey:""})}),(function(e){alert("invalid Api key")}))},a.lockWallet=function(){Ge.walletLock((function(e){a.props.storeApiKey(a.props.apiKey,a.props.walletInitialized,!0)}),(function(e){}))},a.setUnlockPassword=function(){Ge.walletUnlock(a.state.unlockPassword,(function(e){a.props.storeApiKey(a.props.apiKey,a.props.walletInitialized,!1),a.setState({unlockModal:!1,unlockPassword:""})}),(function(e){}))},a.reloadProxyConfig=function(){Ge.proxyReload((function(e){}))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t="pr-";return"GREEN"===this.props.node.status&&(t+="success"),"RED"===this.props.node.status&&(t+="error"),"YELLOW"===this.props.node.status&&(t+="warning"),r.a.createElement("div",null,r.a.createElement(qe,{display:this.state.authModal,onClose:this.closeAuthPanel,onSuccess:this.setApiKey,successTitle:"Set Api key"},r.a.createElement("h3",null,"Set Api key"),r.a.createElement("p",null,"Authorization"),r.a.createElement("p",null,"Set api key to access node requests"),r.a.createElement("input",{value:this.state.apiKey,onChange:function(t){return e.setState({apiKey:t.target.value})}})),r.a.createElement(qe,{display:this.state.unlockModal,onClose:this.closeUnlockPanel,onSuccess:this.setUnlockPassword,successTitle:"Unlock Wallet"},r.a.createElement("p",null,"Enter wallet password"),r.a.createElement("input",{value:this.state.unlockPassword,type:"password",onChange:function(t){return e.setState({unlockPassword:t.target.value})}})),r.a.createElement("div",{className:"panel-header "+t},r.a.createElement("ul",{className:"navigation"},r.a.createElement(Je,{click:this.props.toggleNavigation})),r.a.createElement("div",{className:"content-wrapper"},r.a.createElement("div",{className:"logo"},r.a.createElement("div",{className:"head-title"},"ErgoPool"),r.a.createElement("div",{className:"head-sub-title"},"Proxy Interface")),r.a.createElement("div",{className:"action-button"},r.a.createElement("div",{className:"floater"}),this.props.apiKey?r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"btn blue",onClick:this.openAuthPanel},"Update Api key"),this.props.walletInitialized?this.props.walletLocked?r.a.createElement("button",{className:"btn bordered",onClick:this.openUnlockPanel},"UnLock Wallet"):r.a.createElement("button",{className:"btn bordered",onClick:this.lockWallet},"lock Wallet"):r.a.createElement("button",{className:"btn bordered",onClick:this.openAuthPanel},"Initialize Wallet")):r.a.createElement("button",{className:"btn blue set-api-key",onClick:this.openAuthPanel},"Set Api key"),r.a.createElement("button",{className:"btn bordered icon-button",onClick:this.reloadProxyConfig,title:"Reload pool configuration"},r.a.createElement("i",{className:"ep-icon-refresh"}))),r.a.createElement("div",{className:"proxy-status"},this.props.node.message?r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"ep-icon-information"}),r.a.createElement("div",{className:"pr-info"},this.props.node.message)):null))))}}]),t}(r.a.Component),Xe=Object(v.b)((function(e){return{apiKey:e.proxy.apiKey,walletInitialized:e.proxy.walletInitialized,walletLocked:e.proxy.walletLocked,node:e.proxy.node}}),(function(e){return{storeApiKey:function(t,a,n){return e(function(e,t,a){return{type:"STORE_NODE_API_KEY",payload:{apiKey:e,walletInitialized:t,walletLocked:a}}}(t,a,n))}}}))(Ve),Qe=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={navigationOpen:!1},a.updateUserId=function(){var e=a.props.userId;if(h.IsProxy()){var t=a.props.proxyUserId;t!==e&&a.props.setUserPk(t)}else{var n=a.props.match.params.userId;n!==e&&a.props.setUserPk(n)}},a.toggleNavigation=function(){a.setState((function(e){return{navigationOpen:!e.navigationOpen}}))},a.getUrl=function(e){return h.IsServer()?"/user/"+a.props.match.params.userId+e:e},a.render=function(){var e=h.IsServer()?["user"]:["proxy","user"];return a.state.navigationOpen&&e.push("active"),e=e.join(" "),r.a.createElement("div",null,r.a.createElement("div",{className:e},h.IsServer()?r.a.createElement(B,null):r.a.createElement(Xe,{toggleNavigation:a.toggleNavigation}),r.a.createElement("ul",{className:"navigation"},h.IsServer()?r.a.createElement(Je,{click:function(){return a.toggleNavigation()}}):null,r.a.createElement("li",null,r.a.createElement(E.c,{activeClassName:"active",to:a.getUrl("/"),exact:!0},r.a.createElement("i",{className:"ep-icon-user-dashboard"}),r.a.createElement("span",null,"Dashboard"))),r.a.createElement("li",null,r.a.createElement(E.c,{activeClassName:"active",to:a.getUrl("/wallet/")},r.a.createElement("i",{className:"ep-icon-user-wallet"}),r.a.createElement("span",null,"Wallet"))),h.IsProxy()?r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(E.c,{activeClassName:"active",to:a.getUrl("/config/")},r.a.createElement("i",{className:"ep-icon-user-setting"}),r.a.createElement("span",null,"Settings"))),r.a.createElement("hr",null),r.a.createElement("li",null,r.a.createElement("a",{href:"/swagger",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"ep-icon-useralt-swagger"}),r.a.createElement("span",null,"Swagger"))),r.a.createElement("li",null,r.a.createElement("a",{href:"http://explorer.ergoplatform.com",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"ep-icon-useralt-ergo-explorer"}),r.a.createElement("span",null,"Explorer"))),r.a.createElement("li",null,r.a.createElement("a",{href:"http://ergoplatform.org",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"ep-icon-useralt-ergo1"}),r.a.createElement("span",null,"ErgoPlatform"))),r.a.createElement("li",null,r.a.createElement("a",{href:"http://ergopool.io",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"ep-icon-logo-fill"}),r.a.createElement("span",null,"ErgoPool")))):r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(E.c,{activeClassName:"active",to:"/support/"},r.a.createElement("i",{className:"ep-icon-user-help-desk"}),r.a.createElement("span",null,"Support"))),r.a.createElement(Be,null))),r.a.createElement("div",{className:"content"},h.IsServer()?r.a.createElement(r.a.Fragment,null,"Welcome,",r.a.createElement(Ke,{userId:a.props.match.params.userId})):null,a.props.children)),r.a.createElement("div",{className:"clear"}),r.a.createElement(z,null))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.updateUserId()}},{key:"componentDidUpdate",value:function(e,t,a){this.updateUserId()}}]),t}(r.a.Component),$e=Object(v.b)((function(e){var t={dashboard:e.api.dashboard,userId:e.api.userId};return h.IsProxy()&&(t.proxyUserId=e.proxy.node.pk),t}),(function(e){return{setUserPk:function(t){return e(U(t))}}}))(Qe),Ze=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={visible:!1},a.changeState=function(){a.setState((function(e){return{visible:!e.visible}}))},a.apply=function(){a.props.onApply(),a.changeState()},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"chart-filter "+(this.state.visible?"active":"")},r.a.createElement("div",{onClick:this.changeState},"Custom Time period ",r.a.createElement("i",{className:"ep-icon-filter-chart"})),r.a.createElement("div",{className:"chart-filter-content"},this.props.children,r.a.createElement("div",{className:"action-row"},r.a.createElement("div",{className:"btn-holder"},r.a.createElement("button",{className:"btn gray",onClick:this.changeState},"Cancel")),r.a.createElement("div",{className:"btn-holder"},r.a.createElement("button",{className:"btn blue",onClick:this.apply},"Apply"))))),r.a.createElement("ul",{className:"chart-filter-series"},this.props.series.map((function(e){return r.a.createElement("li",{key:e.key},r.a.createElement("span",{style:{backgroundColor:e.color}}),e.key)}))))}}]),t}(r.a.Component),et=function(e){var t=e.customClass?"card "+e.customClass:"card";return r.a.createElement("div",{className:t},r.a.createElement("div",{className:"card-wrapper"},e.children))},tt=function(e){return r.a.createElement("div",{className:"card-title"},e.children)},at=function(e){return r.a.createElement("div",{className:"card-content"+(e.className?" "+e.className:"")},e.children)},nt=function(e){return r.a.createElement("div",{className:"card-col"},e.children)},rt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={initial:(new Date).getTime(),seconds:0,minutes:0,hours:0},a.padDigit=function(e){return e<10?"0"+e:e},a.start=function(){setTimeout((function(){var e=a.props.initial?a.props.initial:a.state.initial,t=(new Date).getTime(),n=parseInt((t-e)/1e3),r=n%60,l=parseInt(n/60)%60,c=parseInt(n/3600);a.setState({seconds:r,minutes:l,hours:c})}),1e3)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.start()}},{key:"componentDidUpdate",value:function(e,t,a){this.start()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"timer-hour"},this.state.hours),r.a.createElement("div",{className:"timer-minute"}," :",this.padDigit(this.state.minutes)),r.a.createElement("div",{className:"timer-second"}," :",this.padDigit(this.state.seconds)))}}]),t}(r.a.Component),lt=a(27),ct=a.n(lt),ot=function(e){return r.a.createElement("div",{className:"card-col custom"},e.children)},st=function(e){return r.a.createElement("div",{className:"card-holder"},r.a.createElement("h1",null,e.title),r.a.createElement("div",{className:"row-content"},r.a.createElement("span",null,e.value)))},it=Object(v.b)((function(e){return{node:e.proxy.node}}))((function(e){var t=e.node,a=ct()(new Date(t.start)).format("YYYY-MM-DD"),n=ct()(new Date(t.start)).format(" HH:mm:ss");return r.a.createElement(r.a.Fragment,null,r.a.createElement(nt,null,r.a.createElement(et,null,r.a.createElement(tt,null,"Node Started At"),r.a.createElement(at,null,r.a.createElement(rt,{initial:t.start}),r.a.createElement(at,{className:"sublime"},a),r.a.createElement(at,{className:"sublime"},n)))),r.a.createElement(nt,null,r.a.createElement(et,{customClass:"card-half"},r.a.createElement(tt,null,"Node State"),r.a.createElement(at,{className:"text-blue"},t.synced?"Synced":"Synchronization")),r.a.createElement(et,{customClass:"card-half"},r.a.createElement(tt,null,"Mining status"),r.a.createElement(at,{className:"text-blue"},t.mining?"Enabled":"Disabled"))),r.a.createElement(nt,null,r.a.createElement(et,{customClass:"card-half"},r.a.createElement(tt,null,"Current Height"),r.a.createElement(at,null,t.height)),r.a.createElement(et,{customClass:"card-half"},r.a.createElement(tt,null,"Peers Connected"),r.a.createElement(at,null,t.peers))),r.a.createElement(ot,null,r.a.createElement(st,{title:"Node Version",value:t.version}),r.a.createElement(st,{title:"Best Block id",value:t.bestBlock})))})),ut=function(e){return r.a.createElement("div",{className:"card-title2"},e.children)},mt=function(e){return r.a.createElement("div",{className:"card-filter"},e.children)},pt=["Daily","Weekly","Monthly"],dt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={period:"Daily"},a.rotatePeriod=function(){a.setState((function(e){var t=(pt.indexOf(e.period)+1)%pt.length;return Object(g.a)({},e,{period:pt[t]})}))},a.render=function(){var e=1;a.props.round_valid_shares&&(e=a.props.dashboard.round_valid_shares/a.props.round_valid_shares),e=(100*e).toFixed(1);var t=a.props.dashboard.round_valid_shares+a.props.dashboard.round_invalid_shares,n=(t>0?100*a.props.dashboard.round_valid_shares/t:100).toFixed(1),l=(t>0?100*a.props.dashboard.round_invalid_shares/t:0).toFixed(1),c=a.props.info.hash_rate,o=0;return 1!==c.network&&(o=720*(a.props.dashboard.user.hash_rate.avg-1)/(c.network-1)*675e8),"Weekly"===a.state.period?o*=7:"Monthly"===a.state.period&&(o*=30),r.a.createElement("div",{className:"card-row"},r.a.createElement(nt,null,r.a.createElement(et,null,r.a.createElement(tt,null,"Time Elapsed"),r.a.createElement(at,null,r.a.createElement(rt,{initial:a.props.dashboard.timestamp})),r.a.createElement(tt,null,"Contribution"),r.a.createElement(at,null,e,"%"))),r.a.createElement(nt,null,r.a.createElement(et,{customClass:"card-half"},r.a.createElement(tt,null,"Immature balance"),r.a.createElement(at,null,le(a.props.dashboard.user.immature)," Erg")),r.a.createElement(et,{customClass:"card-half"},r.a.createElement(tt,null,"Mature balance"),r.a.createElement(at,null,le(a.props.dashboard.user.mature)," Erg"))),r.a.createElement(nt,null,r.a.createElement(et,null,r.a.createElement(tt,null,"Shares (Round)"),r.a.createElement(ut,null,"Valid ",n,"%"),r.a.createElement(at,null,a.props.dashboard.user.round_valid_shares),r.a.createElement(ut,null,"Invalid ",l,"%"),r.a.createElement(at,null,a.props.dashboard.user.round_invalid_shares))),r.a.createElement(nt,null,r.a.createElement(et,null,r.a.createElement(tt,null,"Hashrate"),r.a.createElement(ut,null,"Current ",r.a.createElement("br",null),"(30 minutes)"),r.a.createElement(at,null,re(a.props.dashboard.user.hash_rate.current),"H/s"),r.a.createElement(ut,null,"Average (24h)"),r.a.createElement(at,null,re(a.props.dashboard.user.hash_rate.avg),"H/s"))),r.a.createElement(nt,null,r.a.createElement(et,null,r.a.createElement(tt,null,"Estimated Earning"),r.a.createElement(at,null,le(o)," Erg"),r.a.createElement(mt,null,"Time period filter"),r.a.createElement(at,null,a.state.period,r.a.createElement("i",{className:"ep-icon-filter",onClick:a.rotatePeriod})))),h.IsProxy()?r.a.createElement(it,null):null,r.a.createElement("div",{className:"clear"}))},a}return Object(m.a)(t,e),t}(r.a.Component),ht=Object(v.b)((function(e){return{dashboard:e.api.dashboard,api:e.api,info:e.api.info}}))(dt),ft=a(105),Et=a.n(ft),gt=a(106),vt=a(16),bt=[{key:"current",color:"#42c3be"},{key:"avg",color:"#5d62b5"}],yt=[{key:"valid",color:"#379f2c"},{key:"invalid",color:"#d85e5a"}],kt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={hashRate:{user:"",data:[],fromDate:null,fromTime:null,toDate:null,toTime:null},share:{user:"",data:[],fromDate:null,fromTime:null,toDate:null,toTime:null},userId:""},a.setHashRateState=function(e,t){a.setState((function(a){return Object(g.a)({},a,{hashRate:Object(g.a)({},a.hashRate,Object(Le.a)({},e,t))})}))},a.setShareState=function(e,t){a.setState((function(a){return Object(g.a)({},a,{share:Object(g.a)({},a.share,Object(Le.a)({},e,t))})}))},a.getTimeStamp=function(e,t){if(e&&t){var a=e.toDateString(),n=new Date(t.toString()).toTimeString();return new Date(a+" "+n).getTime()/1e3}return null},a.loadHashRateChart=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(a.props.userId!==a.state.hashRate.user||e){a.setState((function(e){return Object(g.a)({},e,{hashRate:Object(g.a)({},e.hashRate,{user:a.props.userId})})}));var t=a.getTimeStamp(a.state.hashRate.fromDate,a.state.hashRate.fromTime),n=a.getTimeStamp(a.state.hashRate.toDate,a.state.hashRate.toTime);S.hashRate(a.props.userId,{fromTimeStamp:t,toTimeStamp:n}).then((function(e){a.setState((function(t){return Object(g.a)({},t,{hashRate:Object(g.a)({},t.hashRate,{user:a.props.userId,data:e.data})})}))}))}},a.loadShareChart=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(a.props.userId!==a.state.share.user||e){a.setState((function(e){return Object(g.a)({},e,{share:Object(g.a)({},e.share,{user:a.props.userId})})}));var t=a.getTimeStamp(a.state.share.fromDate,a.state.share.fromTime),n=a.getTimeStamp(a.state.share.toDate,a.state.share.toTime);S.share(a.props.userId,{fromTimeStamp:t,toTimeStamp:n}).then((function(e){a.setState((function(t){return Object(g.a)({},t,{share:Object(g.a)({},t.share,{user:a.props.userId,data:e.data})})}))}))}},a.loadDashboard=function(){a.props.userId!==a.state.userId&&(a.props.getApiDashboard(),a.setState({userId:a.props.userId}))},a.loadCharts=function(){a.loadHashRateChart(),a.loadShareChart(),a.loadDashboard()},a.render=function(){return r.a.createElement("div",null,r.a.createElement(ht,null),r.a.createElement(Re,null,r.a.createElement(vt.h,{height:337},r.a.createElement(vt.f,{data:a.state.hashRate.data},r.a.createElement(vt.j,{dataKey:"timestamp",textAnchor:"end",tickFormatter:function(e){return ct()(new Date(1e3*e)).format("HH:mm")}}),r.a.createElement(vt.k,{tickFormatter:function(e){return re(e)+"H/s"}}),r.a.createElement(vt.c,{strokeDasharray:"3 3"}),r.a.createElement(vt.i,{isAnimationActive:!1,formatter:function(e,t,a){return re(e)+"H/s"},labelFormatter:function(e){return ct()(new Date(1e3*e)).format("YYYY-MM-DD HH:mm")}}),r.a.createElement(vt.e,{isAnimationActive:!1,type:"linear",dataKey:"current",stroke:"#42c3be"}),r.a.createElement(vt.e,{isAnimationActive:!1,type:"monotone",dataKey:"avg",stroke:"#5d62b5"}),r.a.createElement(vt.d,{verticalAlign:"top",height:36}))),r.a.createElement(Ze,{onApply:function(){return a.loadHashRateChart(!0)},series:bt},r.a.createElement("label",null,"From"),r.a.createElement(Et.a,{selected:a.state.hashRate.fromDate,onChange:function(e){return a.setHashRateState("fromDate",e)}}),r.a.createElement(gt.a,{value:a.state.hashRate.fromTime,onChange:function(e){return a.setHashRateState("fromTime",e)}}),r.a.createElement("label",null,"To"),r.a.createElement(Et.a,{selected:a.state.hashRate.toDate,onChange:function(e){return a.setHashRateState("toDate",e)}}),r.a.createElement(gt.a,{value:a.state.hashRate.toTime,onChange:function(e){return a.setHashRateState("toTime",e)}}))),r.a.createElement(Re,null,r.a.createElement(vt.h,{height:337},r.a.createElement(vt.f,{data:a.state.share.data},r.a.createElement(vt.j,{dataKey:"date",tickFormatter:function(e){return ct()(new Date(1e3*e)).format("HH:mm")}}),r.a.createElement(vt.k,null),r.a.createElement(vt.c,{strokeDasharray:"3 3"}),r.a.createElement(vt.i,{isAnimationActive:!1,labelFormatter:function(e){return ct()(new Date(1e3*e)).format("YYYY-MM-DD HH:mm")}}),r.a.createElement(vt.e,{isAnimationActive:!1,type:"linear",dataKey:"valid",stroke:"#379f2c"}),r.a.createElement(vt.e,{isAnimationActive:!1,type:"monotone",dataKey:"invalid",stroke:"#d85e5a"}))),r.a.createElement(Ze,{onApply:function(){return a.loadHashRateChart(!0)},series:yt},r.a.createElement("label",null,"From"),r.a.createElement(Et.a,{selected:a.state.share.fromDate,onChange:function(e){return a.setShareState("fromDate",e)}}),r.a.createElement(gt.a,{value:a.state.share.fromTime,onChange:function(e){return a.setShareState("fromTime",e)}}),r.a.createElement("label",null,"To"),r.a.createElement(Et.a,{selected:a.state.share.toDate,onChange:function(e){return a.setShareState("toDate",e)}}),r.a.createElement(gt.a,{value:a.state.share.toTime,onChange:function(e){return a.setShareState("toTime",e)}}))))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){this.loadCharts()}},{key:"componentDidMount",value:function(){this.loadCharts()}}]),t}(r.a.Component),Ot=Object(v.b)((function(e){return{info:e.api.dashboard,userId:e.api.userId}}),(function(e){return{getApiDashboard:function(){return e(H(!0))}}}))(kt),Nt=f($e)(Ot),wt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={password:"",loading:!1,message:""},a.onChange=function(e){a.setState({password:e.target.value})},a.submit=function(){a.setState({loading:!0});var e=Ge.saveMnemonic;a.props.mnemonicSaved&&(e=Ge.loadMnemonic),e(a.state.password).then((function(e){a.setState({loading:!1})})).catch((function(e){a.setState({loading:!1})}))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return console.log(this.props.mnemonicSaved),r.a.createElement("div",{className:"split-panel"},r.a.createElement("div",{className:"split-panel-form"},r.a.createElement("label",null,"Mnemonic password",r.a.createElement("input",{type:"password",value:this.state.password,onChange:this.onChange})),r.a.createElement("button",{className:"btn blue",onClick:this.submit},this.props.mnemonicSaved?"Load Mnemonic":"Save Mnemonic",this.state.loading?r.a.createElement(fe.a,{color:"white"}):null)),this.props.mnemonicSaved?r.a.createElement("div",{className:"split-panel-text"},"You stored your proxy mnemonic to file.",r.a.createElement("br",null),"Please load mnemonic to proxy worked"):r.a.createElement("div",{className:"split-panel-text"},"You must save mnemonic to a file to avoid mnemonic lost.",r.a.createElement("br",null),"this mnemonic only used for mining colatoral box"))}}]),t}(r.a.Component),St=Object(v.b)((function(e){return{mnemonicSaved:e.proxy.node.mnemonicSaved}}),(function(e){return{loadMenu:function(){return e(F())}}}))(wt),jt=f($e)((function(e){return r.a.createElement("div",{className:"main"},r.a.createElement(Re,null,r.a.createElement(St,null)))})),Ct=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={refAreaLeft:"",refAreaRight:"",zoomStart:"",zoomEnd:"",sliceData:[]},a.xFormatter=function(e){return console.log(e),a.props.xFormatter?a.props.xFormatter(e):e},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"zoom",value:function(){var e=this,t=this.state,a=t.refAreaLeft,n=t.refAreaRight;if(a!==n&&""!==n){if(a>n){var r=[n,a];a=r[0],n=r[1]}var l=this.props.data.findIndex((function(t){return t[e.props.xKey]===a})),c=this.props.data.findIndex((function(t){return t[e.props.xKey]===n}));this.setState((function(t){return{refAreaLeft:"",refAreaRight:"",zoomStart:a,zoomEnd:n,sliceData:e.props.data.slice(l,c)}}))}else this.setState((function(){return{refAreaLeft:"",refAreaRight:""}}))}},{key:"onMouseDown",value:function(e){try{this.setState({refAreaLeft:e.activeLabel})}catch(e){}}},{key:"onMouseMove",value:function(e){try{this.state.refAreaLeft&&this.setState({refAreaRight:e.activeLabel})}catch(e){}}},{key:"render",value:function(){var e=this.state.sliceData;return 0===e.length&&(e=this.props.data),r.a.createElement("div",{className:"highlight-bar-charts"},r.a.createElement(vt.h,{height:337},r.a.createElement(vt.b,{data:e},r.a.createElement(vt.j,{tickFormatter:this.xFormatter,dataKey:this.props.xKey}),r.a.createElement(vt.k,null),r.a.createElement(vt.c,{strokeDasharray:"3 3"}),r.a.createElement(vt.i,{isAnimationActive:!1}),r.a.createElement(vt.a,{isAnimationActive:!1,dataKey:this.props.yKey,stroke:this.props.color,fill:this.props.color}))),r.a.createElement(vt.h,{height:100},r.a.createElement(vt.f,{data:this.props.data,onMouseDown:this.onMouseDown.bind(this),onMouseMove:this.onMouseMove.bind(this),onMouseUp:this.zoom.bind(this)},r.a.createElement(vt.j,{dataKey:this.props.xKey}),r.a.createElement(vt.k,null),r.a.createElement(vt.c,{strokeDasharray:"3 3"}),r.a.createElement(vt.e,{type:"monotone",dataKey:this.props.yKey,stroke:this.props.color,fill:this.props.color,isAnimationActive:!1}),this.state.refAreaLeft&&this.state.refAreaRight?r.a.createElement(vt.g,{x1:this.state.refAreaLeft,x2:this.state.refAreaRight,strokeOpacity:.3}):r.a.createElement(vt.g,{x1:0,x2:this.state.zoomStart,strokeOpacity:.3}),this.state.refAreaLeft&&this.state.refAreaRight?null:r.a.createElement(vt.g,{x1:this.state.zoomEnd,x2:this.props.data.length-1,strokeOpacity:.3}))))}}]),t}(r.a.Component),At=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={amount:0,address:"",walletAmount:0,walletLoaded:!1,loading:!1,sendTransaction:!1,paymentMessage:""},a.onChange=function(e,t){a.setState(Object(Le.a)({},e,t))},a.payToAddress=function(){a.setState({sendTransaction:!0}),Ge.payment(a.state.address,1e9*a.state.amount).then((function(e){a.setState({sendTransaction:!1,paymentMessage:e.data})})).catch((function(e){a.setState({sendTransaction:!1,paymentMessage:e.data})}))},a.loadWalletAmount=function(e){e&&a.setState({loading:!0}),Ge.balance().then((function(e){a.setState({walletAmount:e.data.balance,walletLoaded:!0,loading:!1})})).catch((function(e){a.setState({loading:!1})}))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.state.walletLoaded||this.state.loading||this.loadWalletAmount(!1)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"split-panel"},r.a.createElement("div",{className:"split-panel-form"},r.a.createElement("label",null,"Recipient address",r.a.createElement("input",{value:this.state.address,onChange:function(t){return e.onChange("address",t.target.value)}})),r.a.createElement("label",null,"Amount",r.a.createElement("input",{value:this.state.amount,onChange:function(t){return e.onChange("amount",t.target.value)}})),r.a.createElement("button",{className:"btn blue",onClick:this.payToAddress},"Send",this.state.sendTransaction?r.a.createElement(fe.a,{color:"white"}):null),r.a.createElement("div",null,this.state.paymentMessage)),r.a.createElement("div",{className:"split-panel-text"},r.a.createElement("h1",null,"Wallet Balance"),r.a.createElement("h1",null,le(this.state.walletAmount)," Ergs"),r.a.createElement("button",{className:"btn blue",onClick:function(){return e.loadWalletAmount(!0)}},"Update",this.state.loading?r.a.createElement(fe.a,{color:"white"}):null)))}}]),t}(r.a.Component),_t=(r.a.Component,[{title:"Paid on",dataIndex:"date",key:"date"},{title:"From height",dataIndex:"from_height",key:"from_height"},{title:"To Height",dataIndex:"to_height",key:"to_height"},{title:"Amount (Erg)",dataIndex:"amount",key:"amount"},{title:"Tx Hash",dataIndex:"tx",key:"tx"}]),Tt=(r.a.Component,a(334)),xt=a.n(Tt),Rt=[{header:"Address",key:"address",content:function(e){return e}},{header:" ",key:"action",content:function(e){return r.a.createElement(xt.a,{render:function(t){var a=t.copy;return r.a.createElement("div",{onClick:function(){return a(e)}},r.a.createElement(Z.a,{name:"copy"}))}})}}],It=(r.a.Component,function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={data:[],income:{user:"",data:[]},payout:{user:"",data:[{date:(new Date).getTime()/1e3,payout:0}]}},a.loadPayoutChart=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(a.props.userId!==a.state.payout.user||e)&&(a.setState((function(e){return Object(g.a)({},e,{payout:Object(g.a)({},e.payout,{user:a.props.userId})})})),S.payout(a.props.userId).then((function(e){a.setState((function(t){var n=e.data.results;return n&&0!==n.length||(n=[{date:(new Date).getTime()/1e3,payout:0}]),n.forEach((function(e){e.amount<0&&(e.amount=-e.amount)})),Object(g.a)({},t,{payout:Object(g.a)({},t.payout,{user:a.props.userId,data:n})})}))})))},a.loadIncomeChart=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(a.props.userId!==a.state.income.user||e)&&(a.setState((function(e){return Object(g.a)({},e,{income:Object(g.a)({},e.income,{user:a.props.userId})})})),S.income(a.props.userId).then((function(e){console.log(e.data),a.setState((function(t){return Object(g.a)({},t,{income:Object(g.a)({},t.income,{user:a.props.userId,data:e.data})})}))})))},a.loadCharts=function(){a.loadPayoutChart(),a.loadIncomeChart()},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){this.loadCharts()}},{key:"componentDidMount",value:function(){this.loadCharts()}},{key:"render",value:function(){return r.a.createElement("div",null,h.IsProxy()&&this.props.apiKey?r.a.createElement(Re,null,r.a.createElement(At,null)):null,r.a.createElement(Re,null,r.a.createElement(Ct,{height:337,color:"var(--azul)",xKey:"date",yKey:"amount",xFormatter:function(e){return ct()(new Date(1e3*e)).format("YYYY:MM")},data:this.state.payout.data})),r.a.createElement(Re,null,r.a.createElement(Ct,{height:337,color:"#42c3be",xKey:"height",yKey:"balance",data:this.state.income.data})))}}]),t}(r.a.Component)),Dt=Object(v.b)((function(e){var t={info:e.api.dashboard,userId:e.api.userId};return h.IsProxy()&&(t.apiKey=e.proxy.apiKey),t}),(function(e){return{}}))(It),Pt=f($e)(Dt),Mt=function(e){return r.a.createElement("div",{onClick:e.clicked,className:"header"},e.content)},Ht=function(e){return r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"wrapper"},r.a.createElement(Ne.Markdown,{markup:e.content})))},Ut=function(e){return r.a.createElement("li",{className:e.display?"active":null},r.a.createElement(Mt,{content:e.title,clicked:e.active}),r.a.createElement(Ht,{content:e.content,display:e.display}))},Ft=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={current:0},a.handleElementChange=function(e){a.setState({current:e})},a.render=function(){var e=a.props.rows.map((function(e,t){return r.a.createElement(Ut,{key:t,title:e.question,content:e.answer,display:a.state.current===t,active:function(){return a.handleElementChange(t)}})}));return r.a.createElement("ul",{className:"accordion"},e)},a}return Object(m.a)(t,e),t}(r.a.Component),Lt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={questions:[]},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;S.getUiJson("Faq.json").then((function(t){e.setState({questions:t.items})}))}},{key:"render",value:function(){return console.log(this.state.questions),r.a.createElement("div",{className:"faq"},r.a.createElement(Ft,{rows:this.state.questions}),r.a.createElement("div",{className:"support"},"Can't find what you are looking for? Ask us in Support section"))}}]),t}(r.a.Component),Kt=f(xe,{title:"Frequently Asked Questions"})(Lt),Wt=a(141),Bt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={recaptcha:"",name:"",email:"",subject:"",message:"",siteKey:"",responseMessage:"",responseClass:""},a.setKey=function(e,t){a.setState(Object(Le.a)({},e,t))},a.getRecaptcha=function(){S.getSupport().then((function(e){e.site_key!==a.state.siteKey&&a.setState({siteKey:e.site_key})}))},a.setResponseMessage=function(e,t){a.setState({responseMessage:e,responseClass:t}),setTimeout((function(){a.setState({responseMessage:"",responseClass:""})}),5e3)},a.submit=function(e){e.preventDefault(),S.support(a.state.name,a.state.email,a.state.subject,a.state.message,a.state.recaptcha).then((function(e){a.setResponseMessage("Successfully submitted","success")})).catch((function(e){console.log(e),a.setResponseMessage("an error occurred","error")}))},a.render=function(){return a.state.siteKey?r.a.createElement("form",{onSubmit:a.submit},r.a.createElement("div",{className:a.state.responseClass},a.state.responseMessage),r.a.createElement("label",{htmlFor:"support_name"},"Full Name"),r.a.createElement("input",{className:"input",id:"support_name",type:"text",value:a.state.name,onChange:function(e){return a.setKey("name",e.target.value)}}),r.a.createElement("label",{htmlFor:"support_email"},"Email Address"),r.a.createElement("input",{className:"input",id:"support_email",type:"text",value:a.state.email,onChange:function(e){return a.setKey("email",e.target.value)}}),r.a.createElement("label",{htmlFor:"support_subject"},"Subject"),r.a.createElement("input",{className:"input",id:"support_subject",type:"text",value:a.state.subject,onChange:function(e){return a.setKey("subject",e.target.value)}}),r.a.createElement("label",null,r.a.createElement(Wt.a,{sitekey:a.state.siteKey,onChange:function(e){return a.setKey("recaptcha",e)}})),r.a.createElement("label",{htmlFor:"support_message"},"Message"),r.a.createElement("textarea",{id:"support_message",className:"textarea",rows:"5",value:a.state.message,onChange:function(e){return a.setKey("message",e.target.value)}}),r.a.createElement("input",{type:"submit",className:"btn blue",value:"Submit"})):null},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.getRecaptcha()}},{key:"componentDidUpdate",value:function(e,t,a){this.getRecaptcha()}}]),t}(r.a.Component),qt=f(xe,{hide_search:!0,title:"Questions, Comments or Concerns?"})((function(){return r.a.createElement("div",{className:"vertical-form"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"content"},"Have you tried our ",r.a.createElement(E.b,{to:"/faq"},"F.A.Q")," section yet? It has lots of information about the site, and answers to most questions about using our services. You should check it out!",r.a.createElement("br",null),r.a.createElement("br",null),"Still need help? Use this form to get in touch. Our office hours are Saturday through Wednesday, 8 am to 5 pm +3:30 GMT, and we attempt to respond to support requests within 1 business day.")),r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"content"},r.a.createElement(Bt,null))),r.a.createElement("div",{className:"clear"}))})),zt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={oldPassword:"",newPassword:"",passwordConfirm:""},a.submit=function(){},a.render=function(){return r.a.createElement("form",{onSubmit:a.submit},r.a.createElement("div",{className:"vertical-form"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"content"},"Enter password to update",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("strong",null,"This Feature is under construction"))),r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"content"},r.a.createElement("label",null,"Old password"),r.a.createElement("input",{type:"password",className:"input",value:a.state.oldPassword,onChange:function(e){return a.setState("oldPassword",e.target.value)}}),r.a.createElement("label",null,"New password"),r.a.createElement("input",{type:"password",className:"input",value:a.state.newPassword,onChange:function(e){return a.setState("newPassword",e.target.value)}}),r.a.createElement("label",null,"New password retype"),r.a.createElement("input",{type:"password",className:"input",value:a.state.passwordConfirm,onChange:function(e){return a.setState("passwordConfirm",e.target.value)}}),r.a.createElement("div",{className:"button-row"},r.a.createElement("button",{className:"btn blue",onClick:a.submit},"Change my password")))),r.a.createElement("div",{className:"clear"})))},a}return Object(m.a)(t,e),t}(r.a.Component),Yt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={qrcode:""},a.enable2FA=function(){S.change2Fa().then((function(e){a.setState({qrcode:e.qrcode})}))},a.render=function(){return""===a.state.qrcode?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"text-center"},"To enable 2fa to change it hit button bellow.",r.a.createElement("br",null),r.a.createElement("strong",null,"this operation can not be undone")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"text-center"},r.a.createElement("button",{onClick:a.enable2FA,className:"btn blue"},"Enable/Change 2FA"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"text-center"},"Two step Authentication enabled for you."),r.a.createElement("div",{className:"text-center"},"Scan this code for later use"),r.a.createElement("div",{className:"text-center"},r.a.createElement("img",{style:{width:"200px"},alt:"qrcode",src:"data:image/jpeg;base64,".concat(a.state.qrcode)})))},a}return Object(m.a)(t,e),t}(r.a.Component),Gt=f(G)((function(e){return r.a.createElement("div",null,r.a.createElement(Re,null,r.a.createElement(zt,null)),r.a.createElement(Re,null,r.a.createElement(Yt,null)))})),Jt=[{header:"User",key:"user",content:function(e){return ce(e.user)}},{header:"Hash rate",key:"hash_rate",content:function(e){return re(e.hash_rate)}},{header:"Valid Shares",key:"valid_shares"},{header:"Invalid Shares",key:"invalid_shares"},{header:"Last IP",key:"last_ip"},{header:"Status",key:"status",content:function(e){return e.status}}],Vt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={data:[],sorting:"date",sortingDir:"asc",pageIndex:0,perPage:10},a.loadUsers=function(){S.getUsers().then((function(e){a.setState({data:e.results})}))},a.sort=function(e){a.setState((function(t){var n=a.state.sorting===e&&"asc"===a.state.sortingDir?"dest":"asc";return Object(g.a)({},t,{sorting:e,sortingDir:n})}))},a.rowSelect=function(e){a.props.history.push("/admin/user/"+e.user+"/")},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.loadUsers()}},{key:"render",value:function(){return r.a.createElement("div",{className:"panel custom-table"},r.a.createElement($,{sort:this.sort,sorting:this.state.sorting,sortingDir:this.state.sortingDir,data:this.state.data,rowSelect:this.rowSelect,columns:Jt}))}}]),t}(r.a.Component),Xt=f(G)(Vt),Qt=function(e){var t=function(t){t.preventDefault(),e.submit()};return r.a.createElement("form",{onSubmit:t},r.a.createElement("div",{className:"vertical-form"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"content"},r.a.createElement("label",null,"Pool base factor"),r.a.createElement("input",{type:"number",className:"input",value:e.POOL_BASE_FACTOR,onChange:function(t){return e.save("POOL_BASE_FACTOR",t.target.value)}}),r.a.createElement("label",null,"Latest allowed height for mining"),r.a.createElement("input",{type:"number",className:"input",value:e.THRESHOLD_HEIGHT,onChange:function(t){return e.save("THRESHOLD_HEIGHT",t.target.value)}}),r.a.createElement("label",null,"Timestamp diff allowed to miner"),r.a.createElement("input",{type:"number",className:"input",value:e.THRESHOLD_TIMESTAMP,onChange:function(t){return e.save("THRESHOLD_TIMESTAMP",t.target.value)}}),r.a.createElement("div",{className:"button-row"},r.a.createElement("button",{className:"btn blue",onClick:t},"Save changes",e.loading?r.a.createElement(fe.a,{color:"white"}):null)))),r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"content"},"this is comments about this panel")),r.a.createElement("div",{className:"clear"})))},$t=function(e){var t=function(t){t.preventDefault(),e.submit()};return r.a.createElement("form",{onSubmit:t},r.a.createElement("div",{className:"vertical-form"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"content"},r.a.createElement("label",null,"Total reward of round"),r.a.createElement("input",{type:"number",className:"input",value:e.TOTAL_REWARD,onChange:function(t){return e.save("TOTAL_REWARD",t.target.value)}}),r.a.createElement("label",null,"Total reward factor for pool transaction"),r.a.createElement("input",{type:"number",className:"input",value:e.REWARD_FACTOR,onChange:function(t){return e.save("REWARD_FACTOR",t.target.value)}}),r.a.createElement("label",null,"Pool reward factor result precision"),r.a.createElement("input",{type:"number",className:"input",value:e.REWARD_FACTOR_PRECISION,onChange:function(t){return e.save("REWARD_FACTOR_PRECISION",t.target.value)}}),r.a.createElement("div",{className:"button-row"},r.a.createElement("button",{className:"btn blue",onClick:t},"Save changes",e.loading?r.a.createElement(fe.a,{color:"white"}):null)))),r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"content"},r.a.createElement("label",null,"Pool fee factor"),r.a.createElement("input",{type:"number",className:"input",value:e.FEE_FACTOR,onChange:function(t){return e.save("FEE_FACTOR",t.target.value)}}),r.a.createElement("label",null,"maximum reward anyone can receive in reward sharing"),r.a.createElement("input",{type:"number",className:"input",value:e.MAX_REWARD,onChange:function(t){return e.save("MAX_REWARD",t.target.value)}}),r.a.createElement("label",null,"Reward algorithm used for sharing reward"),r.a.createElement("select",{className:"input",value:e.REWARD_ALGORITHM,onChange:function(t){return e.save("REWARD_ALGORITHM",t.target.value)}},r.a.createElement("option",{value:"Prop"},"Prop"),r.a.createElement("option",{value:"PPS"},"PPS"),r.a.createElement("option",{value:"PPLNS"},"PPLNS")),"PPNLS"===e.REWARD_ALGORITHM?r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,"Last share used in PPLNS to calculate reward of each user"),r.a.createElement("input",{type:"number",className:"input",value:e.PPLNS_N,onChange:function(t){return e.save("PPLNS_N",t.target.value)}})):null)),r.a.createElement("div",{className:"clear"})))},Zt=function(e){var t=function(t){t.preventDefault(),e.submit()};return r.a.createElement("form",{onSubmit:t},r.a.createElement("div",{className:"vertical-form"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"content"},r.a.createElement("label",null,"Transaction fee of a transaction"),r.a.createElement("input",{type:"number",className:"input",value:e.TRANSACTION_FEE,onChange:function(t){return e.save("TRANSACTION_FEE",t.target.value)}}),r.a.createElement("label",null,"Confirmation length for balances to be mature"),r.a.createElement("input",{type:"number",className:"input",value:e.CONFIRMATION_LENGTH,onChange:function(t){return e.save("CONFIRMATION_LENGTH",t.target.value)}}),r.a.createElement("label",null,"Maximum number of outputs a transaction can have"),r.a.createElement("input",{type:"number",className:"input",value:e.MAX_NUMBER_OF_OUTPUTS,onChange:function(t){return e.save("MAX_NUMBER_OF_OUTPUTS",t.target.value)}}),r.a.createElement("div",{className:"button-row"},r.a.createElement("button",{className:"btn blue",onClick:t},"Save changes",e.loading?r.a.createElement(fe.a,{color:"white"}):null)))),r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"content"},r.a.createElement("label",null,"Miner can not set his withdrawal threshold smaller than this"),r.a.createElement("input",{type:"number",className:"input",value:e.MIN_WITHDRAW_THRESHOLD,onChange:function(t){return e.save("MIN_WITHDRAW_THRESHOLD",t.target.value)}}),r.a.createElement("label",null,"Miner can not set his withdrawal threshold bigger than this"),r.a.createElement("input",{type:"number",className:"input",value:e.MAX_WITHDRAW_THRESHOLD,onChange:function(t){return e.save("MAX_WITHDRAW_THRESHOLD",t.target.value)}}),r.a.createElement("label",null,"Default value for periodic withdrawal if not set by miner explicitly"),r.a.createElement("input",{type:"number",className:"input",value:e.DEFAULT_WITHDRAW_THRESHOLD,onChange:function(t){return e.save("DEFAULT_WITHDRAW_THRESHOLD",t.target.value)}}))),r.a.createElement("div",{className:"clear"})))},ea=["TOTAL_REWARD","REWARD_FACTOR","REWARD_FACTOR_PRECISION","FEE_FACTOR","MAX_REWARD","PPLNS_N","REWARD_ALGORITHM"],ta=["TRANSACTION_FEE","MAX_NUMBER_OF_OUTPUTS","MIN_WITHDRAW_THRESHOLD","MAX_WITHDRAW_THRESHOLD","DEFAULT_WITHDRAW_THRESHOLD","CONFIRMATION_LENGTH"],aa=["POOL_BASE_FACTOR","THRESHOLD_HEIGHT","THRESHOLD_TIMESTAMP"],na=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={reward:{TOTAL_REWARD:null,REWARD_FACTOR:null,REWARD_FACTOR_PRECISION:null,FEE_FACTOR:null,MAX_REWARD:null,PPLNS_N:null,REWARD_ALGORITHM:"PPLNS"},withdraw:{TRANSACTION_FEE:null,MAX_NUMBER_OF_OUTPUTS:null,MIN_WITHDRAW_THRESHOLD:null,MAX_WITHDRAW_THRESHOLD:null,DEFAULT_WITHDRAW_THRESHOLD:null,CONFIRMATION_LENGTH:null},mining:{POOL_BASE_FACTOR:null,THRESHOLD_HEIGHT:null,THRESHOLD_TIMESTAMP:null},loading:""},a.savePanelValue=function(e,t,n){a.setState((function(a){return Object(g.a)({},a,Object(Le.a)({},e,Object(g.a)({},a[e],Object(Le.a)({},t,n))))}))},a.submitPanel=function(e){a.setState({loading:e}),S.setConfig(a.state[e]).then((function(e){a.setState({loading:""})})).catch((function(e){a.setState({loading:""})}))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;S.getConfig().then((function(t){var a=Object.keys(t).filter((function(e){return ea.includes(e)})).reduce((function(e,a){return e[a]=t[a],e}),{}),n=Object.keys(t).filter((function(e){return ta.includes(e)})).reduce((function(e,a){return e[a]=t[a],e}),{}),r=Object.keys(t).filter((function(e){return aa.includes(e)})).reduce((function(e,a){return e[a]=t[a],e}),{});e.setState({reward:a,withdraw:n,mining:r})}))}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Mining parameters"),r.a.createElement(Re,null,r.a.createElement(Qt,Object.assign({save:function(t,a){return e.savePanelValue("mining",t,a)},loading:"mining"===this.state.loading,submit:function(){return e.submitPanel("mining")}},this.state.mining))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h2",null,"Reward"),r.a.createElement(Re,null,r.a.createElement($t,Object.assign({save:function(t,a){return e.savePanelValue("reward",t,a)},loading:"reward"===this.state.loading,submit:function(){return e.submitPanel("reward")}},this.state.reward))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h2",null,"withdraw"),r.a.createElement(Re,null,r.a.createElement(Zt,Object.assign({save:function(t,a){return e.savePanelValue("withdraw",t,a)},loading:"withdraw"===this.state.loading,submit:function(){return e.submitPanel("withdraw")}},this.state.withdraw))))}}]),t}(r.a.Component),ra=f(G)(na),la=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).updateUserId=function(){var e=a.props.match.params.userId;e!==a.props.userId&&a.props.setUserPk(e)},a.getUrl=function(e){return"/admin/user/"+a.props.match.params.userId+e},a.render=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ke,{userId:a.props.match.params.userId},r.a.createElement("div",{className:"admin-actions"},r.a.createElement(E.c,{to:a.getUrl("/"),exact:!0},r.a.createElement("i",{className:"ep-icon-user-dashboard"})),r.a.createElement(E.c,{to:a.getUrl("/wallet/"),exact:!0},r.a.createElement("i",{className:"ep-icon-user-wallet"})))),a.props.children)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.updateUserId()}},{key:"componentDidUpdate",value:function(e,t,a){this.updateUserId()}}]),t}(r.a.Component),ca=Object(v.b)((function(e){return{dashboard:e.api.dashboard,userId:e.api.userId}}),(function(e){return{setUserPk:function(t){return e(U(t))}}}))(f(G)(la)),oa=f(ca)(Ot),sa=f(ca)(Dt),ia=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).getUrl=function(e){return"/admin/ui-manage/"+e},a.render=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"tab-bar-flex"},r.a.createElement("li",null,r.a.createElement(E.c,{to:a.getUrl("faq"),exact:!0},"Faq content")),r.a.createElement("li",null,r.a.createElement(E.c,{to:a.getUrl("static"),exact:!0},"Static pages")),r.a.createElement("li",null,r.a.createElement(E.c,{to:a.getUrl("menu"),exact:!0},"Menu links")),r.a.createElement("li",null,r.a.createElement(E.c,{to:a.getUrl("footer"),exact:!0},"Footer links")),r.a.createElement("li",null,r.a.createElement(E.c,{to:a.getUrl("index"),exact:!0},"Index")),r.a.createElement("li",null,r.a.createElement(E.c,{to:a.getUrl("notification"),exact:!0},"Notifications"))),a.props.children)},a}return Object(m.a)(t,e),t}(r.a.Component),ua=f(G)(ia),ma=a(335),pa=a.n(ma),da=(a(745),new(a(191).Converter)({tables:!0,simplifiedAutoLink:!0,strikethrough:!0,tasklists:!0})),ha=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={extra:{},elements:[],edit:-1,loading:!1},a.initialElements=function(){if(a.props.initial&&a.props.objectKey){var e=Object(b.a)(a.state.elements),t=e.map((function(e){return e[a.props.objectKey]})),n=0;a.props.initial.map((function(r){if(t.indexOf(r)<0){var l=a.createEmptyRow();l[a.props.objectKey]=r,e.push(l),n+=1}return null})),n>0&&a.setState({elements:e})}},a.createEmptyRow=function(){var e={};return a.props.items.map((function(t){return e[t.key]="",t.choices&&(e[t.key]=t.choices[0]),null})),a.props.content&&(e[a.props.content]=""),e},a.addRow=function(){a.setState((function(e){var t=a.createEmptyRow();return Object(g.a)({},e,{elements:[].concat(Object(b.a)(e.elements),[t]),edit:e.elements.length,editElement:t})}))},a.removeRow=function(e){a.setState((function(t){return Object(g.a)({},t,{elements:t.elements.filter((function(t,a){return a!==e}))})}))},a.editRow=function(e){var t=a.state.elements[e];a.setState({edit:e,editElement:Object(g.a)({},t)})},a.saveChanges=function(){a.setState((function(e){return{edit:-1,elements:e.elements.map((function(t,a){return a===e.edit?e.editElement:t})),editElement:{}}}))},a.submit=function(){a.setState({loading:!0});var e={items:Object(b.a)(a.state.elements)};a.props.extra&&(e.extra=Object(g.a)({},a.state.extra)),S.setUiJson(a.props.uiPath,e).then((function(e){a.setState({loading:!1}),console.log(e)})).catch((function(e){a.setState({loading:!1}),console.log(e)}))},a.storeValue=function(e,t){a.setState((function(a){return Object(g.a)({},a,{editElement:Object(g.a)({},a.editElement,Object(Le.a)({},e,t))})}))},a.storeExtraValue=function(e,t){a.setState((function(a){return Object(g.a)({},a,{extra:Object(g.a)({},a.extra,Object(Le.a)({},e,t))})}))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;S.getUiJson(this.props.uiPath).then((function(t){e.props.extra&&t.extra?e.setState({elements:t.items,extra:t.extra,edit:-1}):e.setState({elements:t.items,edit:-1})}))}},{key:"componentDidUpdate",value:function(e,t,a){this.initialElements()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,this.props.extra?r.a.createElement("div",{className:"panel"},r.a.createElement("div",{className:"panel-content"},this.props.extra.map((function(t){return r.a.createElement("label",null,t.title,r.a.createElement("input",{type:"text",value:e.state.extra[t.key],onChange:function(a){return e.storeExtraValue(t.key,a.target.value)}}))})))):null,r.a.createElement("div",{className:"panel custom-table"},r.a.createElement("table",{className:"left-align"},r.a.createElement("thead",null,r.a.createElement("tr",null,this.props.items.map((function(e){return r.a.createElement("th",{key:e.key},e.title)})),r.a.createElement("th",{width:200},"Action"))),r.a.createElement("tbody",null,this.state.elements.map((function(t,a){return r.a.createElement(r.a.Fragment,{key:a},r.a.createElement("tr",{className:a===e.state.edit?"edit-row":null},e.props.items.map((function(n){return r.a.createElement("td",{key:n.key},a===e.state.edit?n.choices?r.a.createElement("select",{className:"input",onChange:function(t){return e.storeValue(n.key,t.target.value)},value:e.state.editElement[n.key]},n.choices.map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))):r.a.createElement("input",{type:"text",className:"input",value:e.state.editElement[n.key],onChange:function(t){return e.storeValue(n.key,t.target.value)}}):r.a.createElement(r.a.Fragment,null,"\xa0",t[n.key]))})),r.a.createElement("td",{className:"center"},a===e.state.edit?r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:e.saveChanges},r.a.createElement("i",{className:"ep-icon-edit"})),r.a.createElement("button",{onClick:function(){return e.setState({edit:-1})}},r.a.createElement("i",{className:"ep-icon-close"}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){return e.editRow(a)}},r.a.createElement("i",{className:"ep-icon-edit"})),e.props.objectKey&&e.props.initial&&e.props.initial.find((function(a){return a===t[e.props.objectKey]}))?null:r.a.createElement("button",{onClick:function(){return e.removeRow(a)}},r.a.createElement("i",{className:"ep-icon-delete"}))))),a===e.state.edit&&e.props.contentKey?r.a.createElement("tr",{className:"edit-row"},r.a.createElement("td",{colSpan:e.props.items.length+1},r.a.createElement(pa.a,{value:e.state.editElement[e.props.contentKey],selectedTab:e.state.editorSelectedTab,onTabChange:function(t){return e.setState({editorSelectedTab:t})},generateMarkdownPreview:function(e){return Promise.resolve(da.makeHtml(e))},onChange:function(t){return e.setState((function(a){return Object(g.a)({},a,{editElement:Object(g.a)({},a.editElement,Object(Le.a)({},e.props.contentKey,t))})}))}}))):null)}))),r.a.createElement("tfoot",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:this.props.items.length+1,style:{padding:10}},r.a.createElement("button",{onClick:this.addRow},r.a.createElement("i",{className:"ep-icon-plus"})," Add new"),-1===this.state.edit?r.a.createElement("button",{className:"btn blue",onClick:this.submit,style:{float:"right"}},"Save",this.state.loading?r.a.createElement(fe.a,{color:"white"}):null):null))))))}}]),t}(r.a.Component),fa=f(ua)(ha),Ea=[{key:"question",title:"question"}],ga=function(e){return r.a.createElement(fa,{uiPath:"Faq.json",items:Ea,contentKey:"answer"})},va=[{key:"pageTitle",title:"Page title"},{key:"urlKey",title:"Url Key"}],ba=function(e){return r.a.createElement(fa,{uiPath:"Page.json",items:va,contentKey:"content"})},ya=[{key:"title",title:"title"},{key:"color",title:"color"},{key:"superuser",title:"Only super user can see",choices:["no","yes"]},{key:"link",title:"link"}],ka=["/","/support/","/faq/","/admin/"],Oa=function(e){return r.a.createElement(fa,{uiPath:"MenuLink.json",items:ya,initial:ka,objectKey:"link",contentKey:null})},Na=[{key:"title",title:"title"},{key:"column",title:"column",choices:["Column 2","Column 3","Column 4"]},{key:"link",title:"link"},{key:"newTab",title:"Open link in new tab?",choices:["no","yes"]}],wa=[{key:"column1",title:"Column 1 content"},{key:"column2",title:"Column 2 Title"},{key:"column3",title:"Column 3 Title"},{key:"column4",title:"Column 4 Title"}],Sa=function(e){return r.a.createElement(fa,{uiPath:"FooterLink.json",items:Na,extra:wa,objectKey:"link",contentKey:null})},ja=[{key:"sliderHeader",title:"Slider title"},{key:"sliderSubTitle",title:"Slider subtitle"},{key:"sliderLink",title:"Slider link"},{key:"sliderLinkTitle",title:"Slider link title"},{key:"firstBoxTitle",title:"First box title"},{key:"firstBoxContent",title:"First box content"}],Ca=[{key:"title",title:"Feature title"}],Aa=function(e){return r.a.createElement(fa,{uiPath:"Index.json",items:Ca,extra:ja,objectKey:"title",contentKey:null})},_a=[{key:"title",title:"title"},{key:"type",title:"message type",choices:["info","success","warning","error"]}],Ta=function(e){return r.a.createElement(fa,{uiPath:"Notification.json",items:_a,contentKey:"content"})},xa=a(336),Ra=a.n(xa),Ia=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",recaptcha:"",twofa:"",siteKey:"",loading:!1,errors:{username:"",password:"",recaptcha_code:"",otp_token:"",non_field_errors:""}},a.saveContent=function(e,t){a.setState(Object(Le.a)({},e,t))},a.redirect=function(){var e=Ra.a.parse(a.props.location.search);e.next?a.props.history.push(e.next):a.props.history.push("/admin/")},a.signIn=function(e){e.preventDefault(),a.setState({loading:!0,errors:{username:"",password:"",recaptcha_code:"",otp_token:"",non_field_errors:""}}),S.login(a.state.username,a.state.password,a.state.recaptcha,a.twofa).then((function(e){localStorage.setItem("token",e.token),a.setState({loading:!1}),a.redirect()})).catch((function(e){var t={username:"",password:"",recaptcha_code:"",otp_token:"",non_field_errors:""},n=e.response.data;Object.keys(t).forEach((function(e){void 0!==n[e]&&(t[e]=n[e])})),a.setState({loading:!1,errors:t}),a.state.siteKey&&a.captcha.reset()}))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;localStorage.getItem("token")?this.redirect():S.getLogin().then((function(t){e.setState({siteKey:t.site_key})}))}},{key:"render",value:function(){var e=this;return console.log(this.state),r.a.createElement("div",{className:"login"},r.a.createElement("div",{className:"header"},r.a.createElement(B,null),r.a.createElement("div",{className:"clear"})),r.a.createElement("div",{className:"content"},this.state.errors.non_field_errors?r.a.createElement("ul",{className:"red"},this.state.errors.non_field_errors.map((function(e,t){return r.a.createElement("li",{key:t},e)}))):null,r.a.createElement("form",{className:"with40",onSubmit:this.signIn},r.a.createElement("h1",null,"Sign in"),r.a.createElement("label",null,"Username"),r.a.createElement("input",{type:"text",className:this.state.errors.username?"invalid":"",value:this.state.username,onChange:function(t){return e.saveContent("username",t.target.value)}}),this.state.errors.username?this.state.errors.username.map((function(e,t){return r.a.createElement("div",{className:"red text-small",key:t},e)})):null,r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",className:this.state.errors.password?"invalid":"",value:this.state.password,onChange:function(t){return e.saveContent("password",t.target.value)}}),this.state.errors.password?this.state.errors.password.map((function(e,t){return r.a.createElement("div",{className:"red text-small",key:t},e)})):null,r.a.createElement("label",null,"TwoFA (if enabled)"),r.a.createElement("input",{type:"password",value:this.state.twofa,onChange:function(t){return e.saveContent("twofa",t.target.value)}}),this.state.errors.twofa?this.state.errors.twofa.map((function(e,t){return r.a.createElement("div",{className:"red text-small",key:t},e)})):null,this.state.siteKey?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"button-row"},r.a.createElement(Wt.a,{ref:function(t){return e.captcha=t},sitekey:this.state.siteKey,onChange:function(t){return e.saveContent("recaptcha",t)}})),this.state.errors.recaptcha_code?this.state.errors.recaptcha_code.map((function(e,t){return r.a.createElement("div",{className:"red text-small",key:t},e)})):null):null,r.a.createElement("div",{className:"button-row"},r.a.createElement("button",{className:"btn blue",onClick:this.signIn},r.a.createElement("div",{style:{marginBottom:"5px"}}," Sign In"),this.state.loading?r.a.createElement(fe.a,{color:"white"}):null)))))}}]),t}(r.a.Component),Da=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).render=function(){return r.a.createElement(E.a,{basename:h.IsProxy()?"dashboard":""},r.a.createElement("div",{className:"App"},h.IsServer()?r.a.createElement(je.d,null,r.a.createElement(je.b,{path:"/error/404/",component:be}),r.a.createElement(je.b,{path:"/error/500/",component:ye}),r.a.createElement(je.b,{path:"/error/maintenance/",component:ke}),r.a.createElement(je.b,{path:"/error/coming/",component:Oe}),r.a.createElement(je.b,{path:"/support/",component:qt}),r.a.createElement(je.b,{path:"/faq/",exact:!0,component:Kt}),r.a.createElement(je.b,{path:"/user/:userId/",exact:!0,component:Nt}),r.a.createElement(je.b,{path:"/user/:userId/wallet/",exact:!0,component:Pt}),r.a.createElement(je.b,{path:"/user/:userId/config/",exact:!0,component:jt}),r.a.createElement(je.b,{path:"/",exact:!0,component:Ue}),r.a.createElement(je.b,{path:"/admin/login/",exact:!0,component:Ia}),r.a.createElement(je.b,{path:"/admin/system/",exact:!0,component:X}),r.a.createElement(je.b,{path:"/admin/system/stat/",exact:!0,component:X}),r.a.createElement(je.b,{path:"/admin/system/block/",exact:!0,component:ae}),r.a.createElement(je.b,{path:"/admin/system/transaction/",exact:!0,component:me}),r.a.createElement(je.b,{path:"/admin/system/payment/",exact:!0,component:ge}),r.a.createElement(je.b,{path:"/admin/profile/",exact:!0,component:Gt}),r.a.createElement(je.b,{path:"/admin/user/",exact:!0,component:Xt}),r.a.createElement(je.b,{path:"/admin/user/:userId/",exact:!0,component:oa}),r.a.createElement(je.b,{path:"/admin/user/:userId/wallet/",exact:!0,component:sa}),r.a.createElement(je.b,{path:"/admin/manage/",exact:!0,component:ra}),r.a.createElement(je.b,{path:"/admin/ui-manage/faq/",exact:!0,component:ga}),r.a.createElement(je.b,{path:"/admin/ui-manage/static/",exact:!0,component:ba}),r.a.createElement(je.b,{path:"/admin/ui-manage/menu/",exact:!0,component:Oa}),r.a.createElement(je.b,{path:"/admin/ui-manage/footer/",exact:!0,component:Sa}),r.a.createElement(je.b,{path:"/admin/ui-manage/index/",exact:!0,component:Aa}),r.a.createElement(je.b,{path:"/admin/ui-manage/notification/",exact:!0,component:Ta}),r.a.createElement(je.a,{path:"/admin/ui-manage/",to:"/admin/ui-manage/faq"}),r.a.createElement(je.a,{path:"/admin/",to:"/admin/system/"}),r.a.createElement(je.b,{path:"/",component:Fe}),r.a.createElement(je.a,{to:"/error/404"})):r.a.createElement(je.d,null,r.a.createElement(je.b,{path:"/error/404/",component:be}),r.a.createElement(je.b,{path:"/",exact:!0,component:Nt}),r.a.createElement(je.b,{path:"/wallet/",exact:!0,component:Pt}),r.a.createElement(je.b,{path:"/config/",exact:!0,component:jt}),r.a.createElement(je.a,{to:"/error/404"}))))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.syncing||(this.props.setSyncing(),this.props.getApiInfo(),this.props.getApiDashboard(),h.IsProxy()?this.props.getNodeData():this.props.getMessages())}}]),t}(r.a.Component),Pa=Object(v.b)((function(e){return{syncing:e.ui.syncing}}),(function(e){var t={getApiInfo:function(){return e((function(e){!function t(){S.info().then((function(a){setTimeout(t,6e5),e({type:"STORE_API_INFO",payload:Object(g.a)({},a.data)})})).catch((function(e){setTimeout(t,6e5)}))}()}))},getMessages:function(){return e((function(e){!function t(){S.getUiJson("Notification.json").then((function(a){setTimeout(t,6e5);try{e(L(a.items))}catch(n){}})).catch((function(e){setTimeout(t,6e5)}))}()}))},getApiDashboard:function(){return e(H(!1))},setSyncing:function(){return e((function(e){e({type:"SET_UI_SYNCING",payload:{}})}))}};return h.IsProxy()&&(t.getNodeData=function(){return e((function(e){!function t(){Ge.info().then((function(a){var n=a.data;setTimeout(t,5e3),e({type:"STORE_NODE_DATA",payload:{synced:n.fullHeight===n.headersHeight,start:n.launchTime,mining:n.isMining,height:n.fullHeight,peers:n.peersCount,version:n.appVersion,bestBlock:n.previousFullHeaderId,pk:n.proxy.miner.pk,status:n.proxy.status.health,message:n.proxy.status.reason,mnemonicSaved:"success"===n.proxy.mnemonicStatus}})})).catch((function(e){setTimeout(t,1e4)}))}()}))}),t}))(Da);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(v.a,{store:M},r.a.createElement(Pa,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[373,1,2]]]);
//# sourceMappingURL=main.3a00e052.chunk.js.map